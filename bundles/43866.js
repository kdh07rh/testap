"use strict";(self.webpackChunkjennifer5_frontend=self.webpackChunkjennifer5_frontend||[]).push([[43866],{2512:(p,l,_)=>{_.d(l,{A:()=>r});var e=_(11775),i=_(54759),c=_(35339);const r=(0,c.A)(i.A,[["render",e.X],["__scopeId","data-v-21a66f22"]])},11775:(p,l,_)=>{_.d(l,{X:()=>e.X});var e=_(57107)},20251:(p,l,_)=>{_.d(l,{A:()=>r});var e=_(72458),i=_(54952),c=_(35339);const r=(0,c.A)(i.A,[["render",e.X],["__scopeId","data-v-2a3181b0"]])},30219:(p,l,_)=>{_.d(l,{A:()=>n});var e=_(16956),i=_(87106),c=_(88994),d=_(95447),r=_(79526),t=_(87469);const n={inject:{selectAllText:{default:"All"}},components:{Search:t.A,SvgIcon:r.Ah,Tree:i.A,Checkbox:c.A},props:{selectable:{type:Boolean,default:!1},checkable:{type:Boolean,default:!0},tree:{type:Array,required:!0},noAllCheck:{type:Boolean,default:!1},noSearch:{type:Boolean,default:!1}},data(){return{internalTree:Array.from(this.tree),searchEnable:!1,searchText:"",iconType:r.B2.search}},computed:{allChecked(){return this.internalTree.length!==0&&this.internalTree.every(({check:o})=>o==="on")},treeToRender(){return this.searchEnable?this.filteredTree:this.internalTree},filteredTree(){if(!this.searchText.length)return Array.from(this.internalTree);const o=this.internalTree.filter(v=>v.label.trim().toLowerCase().includes(this.searchText.trim().toLowerCase()));return this.internalTree.map(v=>o.some(s=>(0,d.Jo)(s.treeIndex,v.treeIndex)?!0:v.rowId===s.rowId)?v:{...v,hide:!0})}},watch:{tree:{handler(){this.internalTree=Array.from(this.tree)},deep:!0}},methods:{enableSearch(){this.searchEnable||(this.searchEnable=!0),this.$nextTick(()=>{this.$refs.search.$el.getElementsByTagName("input")[0].focus()})},disableSearch(){this.searchText?.length>0||(this.searchEnable=!1)},updateSearchText(o){this.searchText=o},searchInputHandler:(0,e.Q0)(function(o){return this.updateSearchText(o.target.value)},300),checkAllHandler(){this.allChecked?this.$refs.tree.uncheckAll():this.$refs.tree.checkAll()},treeChangeHandler(o){if(this.searchEnable){const v=this.internalTree.map(u=>{for(const s of o)if(s.rowId===u.rowId)return{...u,...s,hide:!1};return{...u,hide:!1}});this.internalTree=v,this.$emit("treeChange",v)}else this.internalTree=o,this.$emit("treeChange",o)},unselect(){this.$refs.tree.unselect()}}}},42653:(p,l,_)=>{_.d(l,{A:()=>e.A,Z:()=>e.Z});var e=_(67353)},43866:(p,l,_)=>{_.d(l,{A:()=>r,Z:()=>i.Z});var e=_(76707),i=_(42653),c=_(35339);const r=(0,c.A)(i.A,[["render",e.X],["__scopeId","data-v-26c88bd3"]])},54759:(p,l,_)=>{_.d(l,{A:()=>e.A});var e=_(30219)},54952:(p,l,_)=>{_.d(l,{A:()=>e.A});var e=_(82452)},57107:(p,l,_)=>{_.d(l,{X:()=>r});var e=_(47577);const i={class:"tab-content-container"},c={class:"upper-bar"},d={class:"contents"};function r(t,n,o,v,u,s){const f=(0,e.g2)("checkbox"),h=(0,e.g2)("svg-icon"),a=(0,e.g2)("search"),b=(0,e.g2)("tree");return(0,e.uX)(),(0,e.CE)("div",i,[(0,e.Lk)("div",c,[(0,e.bF)(f,{disabled:o.noAllCheck,style:{marginLeft:"5px"},active:s.allChecked,onChange:s.checkAllHandler},null,8,["disabled","active","onChange"]),n[2]||(n[2]=(0,e.eW)()),o.noSearch?(0,e.Q3)("v-if",!0):((0,e.uX)(),(0,e.Wv)(e.eB,{key:0,name:"flip",type:"in-out"},{default:(0,e.k6)(()=>[u.searchEnable?((0,e.uX)(),(0,e.Wv)(a,{value:u.searchText,onChange:s.updateSearchText,onBlur:s.disableSearch,onClear:s.disableSearch,onKeydown:(0,e.jR)(s.disableSearch,["esc"]),ref:"search",small:"",cancelable:"",key:"search"},null,8,["value","onChange","onBlur","onClear","onKeydown"])):((0,e.uX)(),(0,e.Wv)(h,{class:"search-icon-before",icon:u.iconType,width:16,height:16,onClick:s.enableSearch,key:"not-search"},null,8,["icon","onClick"]))]),_:1}))]),n[3]||(n[3]=(0,e.eW)()),(0,e.Lk)("div",d,[(0,e.bF)(b,{ref:"tree","tree-check-decouple-children-check-propagation":!0,tree:s.treeToRender,"no-moving-row":u.searchEnable,selectable:o.selectable,checkable:o.checkable,onTreeChange:s.treeChangeHandler,onRowSelected:n[0]||(n[0]=m=>t.$emit("rowSelected",m)),onRowUnselected:n[1]||(n[1]=m=>t.$emit("rowUnselected",m))},null,8,["tree","no-moving-row","selectable","checkable","onTreeChange"])])])}},60487:(p,l,_)=>{_.d(l,{X:()=>i});var e=_(47577);function i(c,d,r,t,n,o){const v=(0,e.g2)("tab"),u=(0,e.g2)("TabContents");return(0,e.uX)(),(0,e.CE)("div",{class:(0,e.C4)(["resource-selector-container",[{"no-border":r.noBorder}]])},[o.isOnlyOneTab?(0,e.Q3)("v-if",!0):((0,e.uX)(),(0,e.Wv)(v,{key:0,tabs:o.resourceTypes,"active-tab":r.tab,onChange:o.tabChangeHandler,flexible:"",small:""},null,8,["tabs","active-tab","onChange"])),d[2]||(d[2]=(0,e.eW)()),((0,e.uX)(!0),(0,e.CE)(e.FK,null,(0,e.pI)(r.resources,(s,f)=>((0,e.uX)(),(0,e.CE)("div",{key:s.resourceType,class:(0,e.C4)(["tab-contents",{active:s.resourceType===r.tab,"hide-tab":o.isOnlyOneTab}])},[(0,e.bF)(u,{ref_for:!0,ref:`tab-${f}`,"no-all-check":r.noAllCheck,tree:s.tree,selectable:r.selectable,checkable:r.checkable,onTreeChange:h=>o.resourceChangeHandler(s.resourceType,h),onRowSelected:d[0]||(d[0]=h=>c.$emit("row-selected",h)),onRowUnselected:d[1]||(d[1]=h=>c.$emit("row-unselected",h))},null,8,["no-all-check","tree","selectable","checkable","onTreeChange"])],2))),128))],2)}},67038:(p,l,_)=>{_.d(l,{X:()=>r});var e=_(47577);const i=["onMousedown","onMouseover","onMouseleave"],c={class:"text"},d={key:0,class:"indicator",ref:"indicatorRef"};function r(t,n,o,v,u,s){const f=(0,e.g2)("tooltip-balloon"),h=(0,e.g2)("badge");return(0,e.uX)(),(0,e.CE)("div",{class:(0,e.C4)(["tab-wrapper",s.borderClass,{flexible:o.flexible,animate:o.animate}])},[(0,e.Lk)("ul",{class:"tab-container",ref:"tabRef",tabindex:"0",onFocus:n[1]||(n[1]=(...a)=>s.onFocusAscendant&&s.onFocusAscendant(...a)),onKeydown:[n[2]||(n[2]=(0,e.jR)((0,e.D$)((...a)=>s.selectPrev&&s.selectPrev(...a),["prevent"]),["left"])),n[3]||(n[3]=(0,e.jR)((0,e.D$)((...a)=>s.selectPrev&&s.selectPrev(...a),["prevent"]),["up"])),n[4]||(n[4]=(0,e.jR)((0,e.D$)((...a)=>s.selectNext&&s.selectNext(...a),["prevent"]),["right"])),n[5]||(n[5]=(0,e.jR)((0,e.D$)((...a)=>s.selectNext&&s.selectNext(...a),["prevent"]),["down"])),n[6]||(n[6]=(0,e.jR)((0,e.D$)(a=>s.onTabChange(o.tabs[u.focusIndex],u.focusIndex),["prevent"]),["space"]))]},[((0,e.uX)(!0),(0,e.CE)(e.FK,null,(0,e.pI)(o.tabs,(a,b)=>((0,e.uX)(),(0,e.CE)("li",{key:b,class:(0,e.C4)(["tab-item",t.size,s.borderClass,a.key===o.activeTab?"active":"default",{disabled:a.disabled}]),onMousedown:(0,e.D$)(m=>s.onTabChange(a,b),["prevent"]),onMouseover:m=>s.onMouseOver(a,b),onMouseleave:m=>s.onMouseLeave(b),onBlur:n[0]||(n[0]=(...m)=>s.onBlur&&s.onBlur(...m)),tabindex:"-1"},[a.tooltipMessage!==void 0&&a.tooltipMessage!==""&&u.showTooltip[b]?((0,e.uX)(),(0,e.Wv)(f,{key:0,style:(0,e.Tr)(s.tooltipStyles),"cursor-none":""},{default:(0,e.k6)(()=>[(0,e.eW)((0,e.v_)(a.tooltipMessage),1)]),_:2},1032,["style"])):(0,e.Q3)("v-if",!0),n[7]||(n[7]=(0,e.eW)()),(0,e.Lk)("span",c,(0,e.v_)(a.value),1),n[8]||(n[8]=(0,e.eW)()),a.caption!==void 0?((0,e.uX)(),(0,e.Wv)(h,{key:1,style:{"margin-left":"4px"},type:s.badgeProps(a.caption).type,value:s.badgeProps(a.caption).value},null,8,["type","value"])):(0,e.Q3)("v-if",!0)],42,i))),128))],544),n[9]||(n[9]=(0,e.eW)()),o.borderPosition!=="none"&&o.animate?((0,e.uX)(),(0,e.CE)("div",d,null,512)):(0,e.Q3)("v-if",!0)],2)}},67353:(p,l,_)=>{_.d(l,{A:()=>r,Z:()=>d});var e=_(20251),i=_(2512),c=_(21301);function d(t){return t.charAt(0).toUpperCase()+t.slice(1)}const r={components:{Tab:e.A,TabContents:i.A},props:{tab:{type:String,default:""},resources:{type:Array,required:!0,validator:t=>t.length?t.every(n=>c.R.includes(n.resourceType)&&Array.isArray(n.tree)):!1},noBorder:{type:Boolean,default:!0},noAllCheck:{type:Boolean,default:!1},selectable:{type:Boolean,default:!1},checkable:{type:Boolean,default:!0},tabDisable:{type:Boolean,default:!1,required:!1}},computed:{resourceTypes(){return this.resources.map(t=>({key:t.resourceType,value:d(t.resourceType),disabled:this.tabDisable}))},isOnlyOneTab(){return this.resources.length===1}},methods:{tabChangeHandler(t){this.$emit("tab-change",t)},resourceChangeHandler(t,n){this.$emit("resource-change",{resourceType:t,tree:n})},unselect(){this.resources.forEach((t,n)=>{this.$refs[`tab-${n}`][0].unselect()})}}}},72458:(p,l,_)=>{_.d(l,{X:()=>e.X});var e=_(67038)},76707:(p,l,_)=>{_.d(l,{X:()=>e.X});var e=_(60487)},82452:(p,l,_)=>{_.d(l,{A:()=>r});var e=_(87380),i=_(17644),c=_(8355),d=_(44707);const r={name:"Tab",mixins:[d.A],components:{TooltipBalloon:i.A,Badge:e.A},props:{tabs:{type:Array,required:!0},activeTab:{type:String,required:!1},borderPosition:{type:String,validator:t=>["top","bottom","none"].indexOf(t)!==-1,default:"bottom"},tooltipPosition:{type:String,default:"top-center"},flexible:{type:Boolean,default:!1},animate:{type:Boolean,default:!0},delay:{type:Number,default:0}},computed:{borderClass(){return"border-"+this.borderPosition},activeIndex(){return this.activeTab?this.tabs.findIndex(t=>t.key===this.activeTab):-1},tooltipStyles(){return(0,c.F)(this.tooltipPosition,0)}},watch:{tabs:{handler(t){this.$nextTick(()=>{t.length>0&&this.moveIndicator(this.activeIndex)})},deep:!0},activeTab:{handler(t,n){if(n!==t){const o=this.tabs.findIndex(v=>v.key===t);this.moveIndicator(o)}},deep:!1}},data(){return{focusIndex:0,showTooltip:Array(this.tabs.length).fill(!1)}},methods:{moveIndicator(t){if(!(!this.$refs.tabRef||t<0)&&this.animate&&this.borderPosition!=="none"){const{offsetLeft:n,clientWidth:o,className:v}=this.$refs.tabRef.children[t],u=this.$refs.indicatorRef;u.style.left=n+"px",u.style.width=o+"px",u.style.opacity=v.includes("disabled")?.5:1}},onTabChange(t,n){t.disabled||(this.$emit("change",t.key),this.focusIndex=n)},selectPrev(){let t=this.focusIndex-1;t<0&&(t=this.tabs.length-1),this.$refs.tabRef.children[t].focus(),this.focusIndex=t},selectNext(){let t=this.focusIndex+1;t>=this.tabs.length&&(t=0),this.$refs.tabRef.children[t].focus(),this.focusIndex=t},onFocusAscendant(){this.$refs.tabRef.children[this.focusIndex].focus()},onBlur(){this.focusIndex=this.activeIndex},badgeProps(t){let n;switch(t){case"unknown":n="warning";break;case 0:n="secondary";break;default:n="primary";break}return{value:t==="unknown"?"!":t,type:n}},onMouseOver(t,n){t.tooltipMessage!==void 0&&t.tooltipMessage!==""&&(this.showTooltip[n]=!0)},onMouseLeave(t){this.showTooltip[t]&&(this.showTooltip[t]=!1)}},mounted(){this.activeIndex>-1&&(this.onTabChange(this.tabs[this.activeIndex],this.activeIndex),setTimeout(()=>this.moveIndicator(this.activeIndex),this.delay))}}}}]);
