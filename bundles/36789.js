"use strict";(self.webpackChunkjennifer5_frontend=self.webpackChunkjennifer5_frontend||[]).push([[36789],{2902:(p,h,i)=>{i.d(h,{X:()=>v});var e=i(47577);const f={class:"right"};function v(m,n,o,w,k,g){const C=(0,e.g2)("svg-icon"),I=(0,e.g2)("input-field");return(0,e.uX)(),(0,e.CE)("div",{class:"aries-ui-format-number-input",style:(0,e.Tr)(g.cssValues),onKeydown:n[2]||(n[2]=(...b)=>g.isNumber&&g.isNumber(...b))},[(0,e.bF)(I,{value:o.useLocale?g.formattedValue:k.currentValue,small:m.small,normal:m.normal,large:m.large,label:o.label,unit:o.unit,align:o.align,disabled:o.disabled,type:o.useLocale?"text":"number",validator:o.validator,onFocus:g.onFocus,onBlur:g.onBlur,onInput:g.onInput},(0,e.eX)({_:2},[o.useStepper?{name:"icon-right",fn:(0,e.k6)(()=>[(0,e.Lk)("div",f,[(0,e.bF)(C,{icon:m.accumulators,width:18,height:18},null,8,["icon"]),n[3]||(n[3]=(0,e.eW)()),(0,e.Lk)("div",{class:"arrow up",onClick:n[0]||(n[0]=b=>g.onClickArrow("up"))}),n[4]||(n[4]=(0,e.eW)()),(0,e.Lk)("div",{class:"arrow down",onClick:n[1]||(n[1]=b=>g.onClickArrow("down"))})])]),key:"0"}:void 0]),1032,["value","small","normal","large","label","unit","align","disabled","type","validator","onFocus","onBlur","onInput"])],36)}},3762:(p,h,i)=>{i.d(h,{X:()=>e.X});var e=i(2902)},40317:(p,h,i)=>{i.d(h,{A:()=>T});var e=i(47577);const f={key:0,class:"blank"},v=["title","width","onClick"],m={key:0,class:"icon-desc"},n={key:1,class:"icon-asc"},o={key:1,class:"blank"},w={ref:"tbody"},k=["onClick","onMouseover"],g={key:0,class:"blank"},C={key:1,class:"blank"},I={key:0,ref:"dragline",class:"dragline"},b=["colspan"];function x(s,t,r,a,u,l){const y=(0,e.g2)("checkbox"),E=(0,e.g2)("svg-icon"),A=(0,e.g2)("tooltip"),V=(0,e.g2)("btn"),U=(0,e.g2)("popup-list"),K=(0,e.gN)("mousemove-outside"),j=(0,e.gN)("mouseup-outside"),Q=(0,e.gN)("click-outside");return(0,e.uX)(),(0,e.CE)("div",{class:"setting-table",style:(0,e.Tr)({"min-width":`${r.minWidth}px`})},[(0,e.bo)(((0,e.uX)(),(0,e.CE)("table",{class:(0,e.C4)(l.tableClassList)},[(0,e.Lk)("thead",null,[(0,e.Lk)("tr",null,[r.checkable?((0,e.uX)(),(0,e.CE)("th",f,[(0,e.bF)(y,{active:u.checkedAll,"onUpdate:active":t[0]||(t[0]=d=>u.checkedAll=d),onChange:l.onCheckAllRow},null,8,["active","onChange"])])):(0,e.Q3)("v-if",!0),t[2]||(t[2]=(0,e.eW)()),((0,e.uX)(!0),(0,e.CE)(e.FK,null,(0,e.pI)(u.mergedColumns,(d,c)=>((0,e.uX)(),(0,e.CE)("th",{title:d.label,width:d.width,class:(0,e.C4)(l.getColumnClasses(c,d)),onClick:_=>l.onClickColumn(c,d)},[(0,e.eW)((0,e.v_)(d.label)+" ",1),u.sortedField===d.field?((0,e.uX)(),(0,e.CE)(e.FK,{key:0},[u.sortedStatus===1?((0,e.uX)(),(0,e.CE)("i",m)):u.sortedStatus===-1?((0,e.uX)(),(0,e.CE)("i",n)):(0,e.Q3)("v-if",!0)],64)):(0,e.Q3)("v-if",!0)],10,v))),256)),t[3]||(t[3]=(0,e.eW)()),r.draggable||r.moreIcon||l.useMoreMenu?((0,e.uX)(),(0,e.CE)("th",o)):(0,e.Q3)("v-if",!0)])]),t[10]||(t[10]=(0,e.eW)()),(0,e.Lk)("tbody",w,[((0,e.uX)(!0),(0,e.CE)(e.FK,null,(0,e.pI)(u.mergedRows,(d,c)=>((0,e.uX)(),(0,e.CE)("tr",{ref_for:!0,ref:"row_"+c,class:(0,e.C4)(l.getRowClasses(c)),onClick:_=>l.onSelectRow(c,d,_),onMouseover:_=>l.onDragMove(c),onMouseup:t[1]||(t[1]=(..._)=>l.onDragEnd&&l.onDragEnd(..._))},[r.checkable?((0,e.uX)(),(0,e.CE)("td",g,[(0,e.bF)(y,{active:d.checked,"onUpdate:active":_=>d.checked=_,onChange:l.onCheckRow},null,8,["active","onUpdate:active","onChange"])])):(0,e.Q3)("v-if",!0),t[7]||(t[7]=(0,e.eW)()),(0,e.RG)(s.$slots,"row",{data:d,index:c},void 0,!0),t[8]||(t[8]=(0,e.eW)()),r.draggable||r.moreIcon||l.useMoreMenu?((0,e.uX)(),(0,e.CE)("td",C,[r.moreIcon!==void 0&&r.moreIconMessage!==""?((0,e.uX)(),(0,e.Wv)(A,{key:0,message:r.moreIconMessage,position:"center-left"},{default:(0,e.k6)(()=>[(0,e.bF)(E,{class:"more-icon",icon:r.moreIcon,width:u.dragIcon.size,height:u.dragIcon.size,onClick:_=>l.onClickMoreIcon(d)},null,8,["icon","width","height","onClick"])]),_:2},1032,["message"])):(0,e.Q3)("v-if",!0),t[5]||(t[5]=(0,e.eW)()),r.draggable?((0,e.uX)(),(0,e.Wv)(A,{key:1,message:u.dragMessage,position:"center-left"},{default:(0,e.k6)(()=>[(0,e.bF)(E,{class:"drag-icon",icon:u.dragIcon.type,width:u.dragIcon.size,height:u.dragIcon.size,onMousedown:(0,e.D$)(_=>l.onDragStart(c),["prevent"])},null,8,["icon","width","height","onMousedown"])]),_:2},1032,["message"])):(0,e.Q3)("v-if",!0),t[6]||(t[6]=(0,e.eW)()),l.useMoreMenu?((0,e.uX)(),(0,e.CE)(e.FK,{key:2},[(0,e.bF)(V,{small:"",class:"border-none",pressed:u.moreMenuIcon.activeList[c],items:[{iconType:u.moreMenuIcon.type}],onClick:_=>l.onShowMoreMenu(c)},null,8,["pressed","items","onClick"]),t[4]||(t[4]=(0,e.eW)()),u.moreMenuIcon.activeList[c]?((0,e.uX)(),(0,e.CE)("div",{key:0,class:"more-menu-layer",style:(0,e.Tr)(l.getMoreMenuPosition(c))},[(0,e.bF)(U,{"no-scroll":"",normal:"",width:r.menuWidth,items:r.moreMenus,"onUpdate:activeIndex":_=>l.onClickMoreMenu(d,_)},null,8,["width","items","onUpdate:activeIndex"])],4)):(0,e.Q3)("v-if",!0)],64)):(0,e.Q3)("v-if",!0)])):(0,e.Q3)("v-if",!0)],42,k))),256)),t[9]||(t[9]=(0,e.eW)()),r.draggable?((0,e.uX)(),(0,e.CE)(e.FK,{key:0},[u.draggingIndex>-1?((0,e.uX)(),(0,e.CE)("tr",I,[(0,e.Lk)("td",{colspan:l.columnCount},null,8,b)],512)):(0,e.Q3)("v-if",!0)],64)):(0,e.Q3)("v-if",!0)],512)],2)),[[K,l.onDragOut],[j,l.onDragEnd],[Q,l.onHideMoreMenu]])],4)}var M=i(79526);const R={beforeMount:function(s,t,r){s.clickOutsideEvent=function(a){s===a.target||s.contains(a.target)||t.value(a,s)},document.body.addEventListener("mousemove",s.clickOutsideEvent)},unmounted:function(s){document.body.removeEventListener("mousemove",s.clickOutsideEvent)}},L={beforeMount:function(s,t,r){s.clickOutsideEvent=function(a){s===a.target||s.contains(a.target)||t.value(a,s)},document.body.addEventListener("mouseup",s.clickOutsideEvent)},unmounted:function(s){document.body.removeEventListener("mouseup",s.clickOutsideEvent)}};var S=i(19766),F=i(35375),D=i(88994),O=i(8355),W=i(48414),B=i(6373),P=i(27664);i(84137)(`./${P.gi.theme}.css`);const X={components:{PopupList:S.A,Btn:F.A,SvgIcon:M.Ah,Checkbox:D.A,Tooltip:O.A},directives:{mousemoveOutside:R,mouseupOutside:L,clickOutside:W.A},props:{lineBreak:{type:Boolean,required:!1,default:!1},minWidth:{type:Number,required:!1,default:800},columns:{type:Array,required:!0,validator:s=>{for(let t=0;t<s.length;t++)if(!s[t].hasOwnProperty("field")||!s[t].hasOwnProperty("label"))return!1;return!0}},rows:{type:Array,required:!1,default:()=>[]},rowIndex:{type:Number,required:!1,default:-1},checkable:{type:Boolean,required:!1,default:!0},selectable:{type:Boolean,required:!1,default:!1},draggable:{type:Boolean,required:!1,default:!1},moreIcon:{type:String,required:!1,default:void 0},moreIconMessage:{type:String,required:!1,default:""},moreMenus:{type:Array,required:!1,default:()=>[]},menuWidth:{type:Number,required:!1,default:200},tableSize:{type:String,required:!1,default:"large"}},computed:{columnCount(){let s=this.columns.length;return this.checkable&&(s+=1),this.draggable&&(s+=1),s},rowCount(){return this.rows.length},tableClassList(){const s=["table",this.tableSize,"vborderless","hover","stripeless"];return this.lineBreak===!1&&s.push("nowrap"),s},useMoreMenu(){return this.moreMenus.length>0}},data(){const s=this.createMergedRows(this.rows);return{mergedColumns:this.createMergedColumns(this.columns),mergedRows:s,sortedField:"",sortedStatus:0,checkedAll:this.updateCheckedAll(s),selectedIndex:this.rowIndex,draggingIndex:-1,draggedIndex:-1,dragIcon:{type:M.B2.gripHorizontal,size:16},dragMessage:B.Ru.get("ui.label.changeOrder"),moreMenuIcon:{type:M.B2.moreVertical,activeList:this.rows.map(()=>!1)}}},watch:{columns:{handler(s){this.mergedColumns=this.createMergedColumns(s)},deep:!0},rows:{handler(s){this.mergedRows=this.createMergedRows(s),this.afterSortMergedRows(),this.checkedAll=this.updateCheckedAll(this.mergedRows),this.moreMenuIcon.activeList=s.map(()=>!1),this.selectedIndex=-1},deep:!0},rowIndex:{handler(s,t){s!==t&&(this.selectedIndex=s)},deep:!1}},methods:{updateCheckedAll(s){return s.filter(t=>!t.checked).length===0},createMergedColumns(s){return s.map(t=>({sortable:!1,width:"auto",class:"",...t}))},createMergedRows(s){return s.map(t=>({checked:!1,...t}))},afterSortMergedRows(){this.sortedField===""||this.sortedStatus===0||this.mergedRows.sort((s,t)=>{const r=this.sortedField,a=this.sortedStatus;if(a===-1)return s[r]>t[r]?1:s[r]<t[r]?-1:0;if(a===1)return s[r]>t[r]?-1:s[r]<t[r]?1:0})},getMoreMenuPosition(s){const t=10+this.menuWidth;return s===this.rows.length-1?{bottom:`${52+this.moreMenus.length*24}px`,right:`${t}px`}:{right:`${t}px`}},getRowClasses(s){const t=[];return this.selectedIndex===s&&t.push("selected"),this.selectable&&t.push("clickable"),t},getColumnClasses(s,t){const r=t.sortable?["clickable"]:[];return r.push(t.class),r},onClickColumn(s,t){t.sortable&&(this.sortedField!==t.field?(this.sortedField=t.field,this.sortedStatus=1):this.sortedStatus=this.sortedStatus===1?-1:1,this.afterSortMergedRows(),this.$emit("sort",this.mergedRows))},onCheckAllRow(){this.mergedRows=this.mergedRows.map(s=>({...s,checked:this.checkedAll})),this.$emit("check",this.mergedRows)},onCheckRow(){this.$emit("check",this.mergedRows),this.checkedAll=this.updateCheckedAll(this.mergedRows)},onSelectRow(s,t,r){const a=r.target.tagName.toUpperCase(),u=r.target.className;a==="SPAN"||a==="SVG"||a==="PATH"||a==="TD"&&u==="blank"||a==="DIV"&&u.startsWith("item")||a==="DIV"&&u.startsWith("aries-switch")||this.selectable&&(this.selectedIndex=s,this.$emit("select",t,s))},onDragStart(s){this.draggable&&this.draggingIndex===-1&&this.rowCount>1&&(this.$refs[`row_${s}`][0].classList.add("dragtarget"),this.draggingIndex=s)},onDragMove(s){if(this.draggable&&this.draggingIndex>-1){const t=this.$refs.dragline,r=this.$refs.tbody,a=this.$refs[`row_${s}`][0];t.style.opacity="1",r.insertBefore(t,a),this.draggedIndex=s}},onDragOut(){if(this.draggable&&this.draggingIndex>-1){const s=this.$refs.dragline;this.$refs.tbody.appendChild(s),this.draggedIndex=this.rowCount}},onDragEnd(){if(this.draggable&&this.draggingIndex>-1&&this.draggedIndex>-1){const s=this.$refs.dragline;s.style.opacity="0";for(let t=0;t<this.rowCount;t++)this.$refs[`row_${t}`][0].classList.remove("dragtarget");if(this.draggingIndex!==this.draggedIndex){const t=[...this.mergedRows],r=t.slice(this.draggingIndex,this.draggingIndex+1)[0];this.draggedIndex===this.rowCount?t.push(r):t.splice(this.draggedIndex,0,r);const a=this.draggingIndex>this.draggedIndex?1:0;t.splice(this.draggingIndex+a,1),this.mergedRows=t,this.$emit("drag",this.mergedRows)}this.draggingIndex=-1,this.draggedIndex=-1,this.selectedIndex=-1}else this.draggingIndex!==-1&&this.draggedIndex===-1&&(this.$refs[`row_${this.draggingIndex}`][0].classList.remove("dragtarget"),this.draggingIndex=-1)},onShowMoreMenu(s){const t=this.moreMenuIcon.activeList;this.moreMenuIcon.activeList=t.map((r,a)=>s===a?!r:!1)},onHideMoreMenu(){this.useMoreMenu&&(this.moreMenuIcon.activeList=this.moreMenuIcon.activeList.map(()=>!1))},onClickMoreMenu(s,t){this.$emit("more-menu",s,this.moreMenus[t]),this.onHideMoreMenu()},onClickMoreIcon(s){this.$emit("more-icon",s)}}};var N=i(35339);const T=(0,N.A)(X,[["render",x],["__scopeId","data-v-a2cc567e"]])},76270:(p,h,i)=>{i.d(h,{A:()=>m});var e=i(11649),f=i(79526),v=i(44707);const m={name:"FormatNumberInput",components:{SvgIcon:f.Ah,InputField:e.A},mixins:[v.A],props:{disabled:{type:Boolean,default:!1},value:{type:Number,default:0},label:{type:String,default:null},unit:{type:String,default:null},formatter:{type:Function,default:n=>n.toLocaleString()},width:Number,step:{type:Number,default:1},max:{type:Number,default:Number.MAX_SAFE_INTEGER,validator(n){return n<=Number.MAX_SAFE_INTEGER}},min:{type:Number,default:0,validator(n){return n>=0}},useStepper:{type:Boolean,default:!1},align:{type:String,default:"default",validator(n){return["left","right","default"].includes(n)}},useLocale:{type:Boolean,default:!1},validator:{type:Function,default:null}},emits:["update:value","input"],data(){return{editing:!1,currentValue:this.value}},watch:{value(n,o){n!==o&&(this.currentValue=this.value)}},computed:{formattedValue(){return this.editing||!this.formatter?this.currentValue:this.formatter(this.currentValue)},size(){return this.normal&&"normal"||this.large&&"large"||"small"},cssValues(){const n=this.size==="small"?-4:0;return{width:this.width&&this.width+"px","--arrow-margin-right":n+"px"}}},methods:{onFocus(){this.editing=!0},onBlur(){this.editing=!1;let n=this.currentValue;n===""||isNaN(n)?n=this.min:n=Math.max(this.min,Math.min(this.max,n)),this.currentValue=n,this.$emit("input",n),this.$emit("update:value",n)},onInput(n){n.match(/^\d*$/)&&(this.currentValue=n===""?"":parseFloat(n))},increase(){const n=this.currentValue%this.step;let o=this.currentValue;o=this.currentValue+this.step-n,!(o>this.max||o<this.min)&&(this.currentValue=o,this.$emit("input",parseFloat(this.currentValue)),this.$emit("update:value",parseFloat(this.currentValue)))},decrease(){const n=this.currentValue%this.step;let o=this.currentValue;n!==0?o-=n:o-=this.step,!(o>this.max||o<this.min)&&(this.currentValue=o,this.$emit("input",parseFloat(this.currentValue)),this.$emit("update:value",parseFloat(this.currentValue)))},isNumber(n){const{key:o}=n;switch(o){case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"0":case"Meta":case"a":case"c":case"v":case"Backspace":case"Tab":case"ArrowLeft":case"ArrowRight":break;case"ArrowUp":this.increase(),n.preventDefault();break;case"ArrowDown":this.decrease(),n.preventDefault();break;default:n.preventDefault()}},onClickArrow(n){n==="up"?this.increase():this.decrease()}},created(){this.accumulators=f.B2.unfoldMore}}},81026:(p,h,i)=>{i.d(h,{A:()=>e.A});var e=i(76270)},97953:(p,h,i)=>{i.d(h,{A:()=>n});var e=i(3762),f=i(81026),v=i(35339);const n=(0,v.A)(f.A,[["render",e.X],["__scopeId","data-v-4edb8588"]])}}]);
