"use strict";(self.webpackChunkjennifer5_frontend=self.webpackChunkjennifer5_frontend||[]).push([[57787,98735],{41135:(B,y,L)=>{L.d(y,{W:()=>T});function T(I){let d=0,p=0,m=0,S=0;for(let k=0,v=I.length;k<v;k++){const O=I.charCodeAt(k);O===13?(d===0&&(p=k),d++,k+1<v&&I.charCodeAt(k+1)===10?(S|=2,k++):S|=3,m=k+1):O===10&&(S|=1,d===0&&(p=k),d++,m=k+1)}return d===0&&(p=I.length),[d,p,I.length-m,S]}},57787:(B,y,L)=>{L.r(y),L.d(y,{SemanticTokensProviderStyling:()=>R,toMultilineTokens2:()=>U});var T=L(71269),I=L(41403),d=L(92824),p=L(69504),m=L(98414),S=L(41135);class k{static create(t,e){return new k(t,new v(e))}get startLineNumber(){return this._startLineNumber}get endLineNumber(){return this._endLineNumber}constructor(t,e){this._startLineNumber=t,this._tokens=e,this._endLineNumber=this._startLineNumber+this._tokens.getMaxDeltaLine()}toString(){return this._tokens.toString(this._startLineNumber)}_updateEndLineNumber(){this._endLineNumber=this._startLineNumber+this._tokens.getMaxDeltaLine()}isEmpty(){return this._tokens.isEmpty()}getLineTokens(t){return this._startLineNumber<=t&&t<=this._endLineNumber?this._tokens.getLineTokens(t-this._startLineNumber):null}getRange(){const t=this._tokens.getRange();return t&&new m.Q(this._startLineNumber+t.startLineNumber,t.startColumn,this._startLineNumber+t.endLineNumber,t.endColumn)}removeTokens(t){const e=t.startLineNumber-this._startLineNumber,n=t.endLineNumber-this._startLineNumber;this._startLineNumber+=this._tokens.removeTokens(e,t.startColumn-1,n,t.endColumn-1),this._updateEndLineNumber()}split(t){const e=t.startLineNumber-this._startLineNumber,n=t.endLineNumber-this._startLineNumber,[i,s,o]=this._tokens.split(e,t.startColumn-1,n,t.endColumn-1);return[new k(this._startLineNumber,i),new k(this._startLineNumber+o,s)]}applyEdit(t,e){const[n,i,s]=(0,S.W)(e);this.acceptEdit(t,n,i,s,e.length>0?e.charCodeAt(0):0)}acceptEdit(t,e,n,i,s){this._acceptDeleteRange(t),this._acceptInsertText(new p.y(t.startLineNumber,t.startColumn),e,n,i,s),this._updateEndLineNumber()}_acceptDeleteRange(t){if(t.startLineNumber===t.endLineNumber&&t.startColumn===t.endColumn)return;const e=t.startLineNumber-this._startLineNumber,n=t.endLineNumber-this._startLineNumber;if(n<0){const s=n-e;this._startLineNumber-=s;return}const i=this._tokens.getMaxDeltaLine();if(!(e>=i+1)){if(e<0&&n>=i+1){this._startLineNumber=0,this._tokens.clear();return}if(e<0){const s=-e;this._startLineNumber-=s,this._tokens.acceptDeleteRange(t.startColumn-1,0,0,n,t.endColumn-1)}else this._tokens.acceptDeleteRange(0,e,t.startColumn-1,n,t.endColumn-1)}}_acceptInsertText(t,e,n,i,s){if(e===0&&n===0)return;const o=t.lineNumber-this._startLineNumber;if(o<0){this._startLineNumber+=e;return}const r=this._tokens.getMaxDeltaLine();o>=r+1||this._tokens.acceptInsertText(o,t.column-1,e,n,i,s)}}class v{constructor(t){this._tokens=t,this._tokenCount=t.length/4}toString(t){const e=[];for(let n=0;n<this._tokenCount;n++)e.push(`(${this._getDeltaLine(n)+t},${this._getStartCharacter(n)}-${this._getEndCharacter(n)})`);return`[${e.join(",")}]`}getMaxDeltaLine(){const t=this._getTokenCount();return t===0?-1:this._getDeltaLine(t-1)}getRange(){const t=this._getTokenCount();if(t===0)return null;const e=this._getStartCharacter(0),n=this._getDeltaLine(t-1),i=this._getEndCharacter(t-1);return new m.Q(0,e+1,n,i+1)}_getTokenCount(){return this._tokenCount}_getDeltaLine(t){return this._tokens[4*t]}_getStartCharacter(t){return this._tokens[4*t+1]}_getEndCharacter(t){return this._tokens[4*t+2]}isEmpty(){return this._getTokenCount()===0}getLineTokens(t){let e=0,n=this._getTokenCount()-1;for(;e<n;){const i=e+Math.floor((n-e)/2),s=this._getDeltaLine(i);if(s<t)e=i+1;else if(s>t)n=i-1;else{let o=i;for(;o>e&&this._getDeltaLine(o-1)===t;)o--;let r=i;for(;r<n&&this._getDeltaLine(r+1)===t;)r++;return new O(this._tokens.subarray(4*o,4*r+4))}}return this._getDeltaLine(e)===t?new O(this._tokens.subarray(4*e,4*e+4)):null}clear(){this._tokenCount=0}removeTokens(t,e,n,i){const s=this._tokens,o=this._tokenCount;let r=0,g=!1,f=0;for(let h=0;h<o;h++){const l=4*h,c=s[l],a=s[l+1],u=s[l+2],_=s[l+3];if((c>t||c===t&&u>=e)&&(c<n||c===n&&a<=i))g=!0;else{if(r===0&&(f=c),g){const b=4*r;s[b]=c-f,s[b+1]=a,s[b+2]=u,s[b+3]=_}r++}}return this._tokenCount=r,f}split(t,e,n,i){const s=this._tokens,o=this._tokenCount,r=[],g=[];let f=r,h=0,l=0;for(let c=0;c<o;c++){const a=4*c,u=s[a],_=s[a+1],b=s[a+2],w=s[a+3];if(u>t||u===t&&b>=e){if(u<n||u===n&&_<=i)continue;f!==g&&(f=g,h=0,l=u)}f[h++]=u-l,f[h++]=_,f[h++]=b,f[h++]=w}return[new v(new Uint32Array(r)),new v(new Uint32Array(g)),l]}acceptDeleteRange(t,e,n,i,s){const o=this._tokens,r=this._tokenCount,g=i-e;let f=0,h=!1;for(let l=0;l<r;l++){const c=4*l;let a=o[c],u=o[c+1],_=o[c+2];const b=o[c+3];if(a<e||a===e&&_<=n){f++;continue}else if(a===e&&u<n)a===i&&_>s?_-=s-n:_=n;else if(a===e&&u===n)if(a===i&&_>s)_-=s-n;else{h=!0;continue}else if(a<i||a===i&&u<s)if(a===i&&_>s)a=e,u=n,_=u+(_-s);else{h=!0;continue}else if(a>i){if(g===0&&!h){f=r;break}a-=g}else if(a===i&&u>=s)t&&a===0&&(u+=t,_+=t),a-=g,u-=s-n,_-=s-n;else throw new Error("Not possible!");const w=4*f;o[w]=a,o[w+1]=u,o[w+2]=_,o[w+3]=b,f++}this._tokenCount=f}acceptInsertText(t,e,n,i,s,o){const r=n===0&&i===1&&(o>=48&&o<=57||o>=65&&o<=90||o>=97&&o<=122),g=this._tokens,f=this._tokenCount;for(let h=0;h<f;h++){const l=4*h;let c=g[l],a=g[l+1],u=g[l+2];if(!(c<t||c===t&&u<e)){if(c===t&&u===e)if(r)u+=1;else continue;else if(c===t&&a<e&&e<u)n===0?u+=i:u=e;else{if(c===t&&a===e&&r)continue;if(c===t)if(c+=n,n===0)a+=i,u+=i;else{const _=u-a;a=s+(a-e),u=a+_}else c+=n}g[l]=c,g[l+1]=a,g[l+2]=u}}}}class O{constructor(t){this._tokens=t}getCount(){return this._tokens.length/4}getStartCharacter(t){return this._tokens[4*t+1]}getEndCharacter(t){return this._tokens[4*t+2]}getMetadata(t){return this._tokens[4*t+3]}}var j=L(71521),Z=function(N,t,e,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(N,t,e,n);else for(var r=N.length-1;r>=0;r--)(o=N[r])&&(s=(i<3?o(s):i>3?o(t,e,s):o(t,e))||s);return i>3&&s&&Object.defineProperty(t,e,s),s},F=function(N,t){return function(e,n){t(e,n,N)}};const D=!1;let R=class{constructor(t,e,n,i){this._legend=t,this._themeService=e,this._languageService=n,this._logService=i,this._hasWarnedOverlappingTokens=!1,this._hasWarnedInvalidLengthTokens=!1,this._hasWarnedInvalidEditStart=!1,this._hashTable=new E}getMetadata(t,e,n){const i=this._languageService.languageIdCodec.encodeLanguageId(n),s=this._hashTable.get(t,e,i);let o;if(s)o=s.metadata,D&&this._logService.getLevel()===d.$b.Trace&&this._logService.trace(`SemanticTokensProviderStyling [CACHED] ${t} / ${e}: foreground ${T.x.getForeground(o)}, fontStyle ${T.x.getFontStyle(o).toString(2)}`);else{let r=this._legend.tokenTypes[t];const g=[];if(r){let f=e;for(let l=0;f>0&&l<this._legend.tokenModifiers.length;l++)f&1&&g.push(this._legend.tokenModifiers[l]),f=f>>1;D&&f>0&&this._logService.getLevel()===d.$b.Trace&&(this._logService.trace(`SemanticTokensProviderStyling: unknown token modifier index: ${e.toString(2)} for legend: ${JSON.stringify(this._legend.tokenModifiers)}`),g.push("not-in-legend"));const h=this._themeService.getColorTheme().getTokenStyleMetadata(r,g,n);if(typeof h>"u")o=2147483647;else{if(o=0,typeof h.italic<"u"){const l=(h.italic?1:0)<<11;o|=l|1}if(typeof h.bold<"u"){const l=(h.bold?2:0)<<11;o|=l|2}if(typeof h.underline<"u"){const l=(h.underline?4:0)<<11;o|=l|4}if(typeof h.strikethrough<"u"){const l=(h.strikethrough?8:0)<<11;o|=l|8}if(h.foreground){const l=h.foreground<<15;o|=l|16}o===0&&(o=2147483647)}}else D&&this._logService.getLevel()===d.$b.Trace&&this._logService.trace(`SemanticTokensProviderStyling: unknown token type index: ${t} for legend: ${JSON.stringify(this._legend.tokenTypes)}`),o=2147483647,r="not-in-legend";this._hashTable.add(t,e,i,o),D&&this._logService.getLevel()===d.$b.Trace&&this._logService.trace(`SemanticTokensProviderStyling ${t} (${r}) / ${e} (${g.join(" ")}): foreground ${T.x.getForeground(o)}, fontStyle ${T.x.getFontStyle(o).toString(2)}`)}return o}warnOverlappingSemanticTokens(t,e){this._hasWarnedOverlappingTokens||(this._hasWarnedOverlappingTokens=!0,this._logService.warn(`Overlapping semantic tokens detected at lineNumber ${t}, column ${e}`))}warnInvalidLengthSemanticTokens(t,e){this._hasWarnedInvalidLengthTokens||(this._hasWarnedInvalidLengthTokens=!0,this._logService.warn(`Semantic token with invalid length detected at lineNumber ${t}, column ${e}`))}warnInvalidEditStart(t,e,n,i,s){this._hasWarnedInvalidEditStart||(this._hasWarnedInvalidEditStart=!0,this._logService.warn(`Invalid semantic tokens edit detected (previousResultId: ${t}, resultId: ${e}) at edit #${n}: The provided start offset ${i} is outside the previous data (length ${s}).`))}};R=Z([F(1,I.Gy),F(2,j.L),F(3,d.rr)],R);function U(N,t,e){const n=N.data,i=N.data.length/5|0,s=Math.max(Math.ceil(i/1024),400),o=[];let r=0,g=1,f=0;for(;r<i;){const h=r;let l=Math.min(h+s,i);if(l<i){let C=l;for(;C-1>h&&n[5*C]===0;)C--;if(C-1===h){let x=l;for(;x+1<i&&n[5*x]===0;)x++;l=x}else l=C}let c=new Uint32Array((l-h)*4),a=0,u=0,_=0,b=0;for(;r<l;){const C=5*r,x=n[C],W=n[C+1],$=g+x|0,M=x===0?f+W|0:W,Q=n[C+2],P=M+Q|0,G=n[C+3],K=n[C+4];if(P<=M)t.warnInvalidLengthSemanticTokens($,M+1);else if(_===$&&b>M)t.warnOverlappingSemanticTokens($,M+1);else{const A=t.getMetadata(G,K,e);A!==2147483647&&(u===0&&(u=$),c[a]=$-u,c[a+1]=M,c[a+2]=P,c[a+3]=A,a+=4,_=$,b=P)}g=$,f=M,r++}a!==c.length&&(c=c.subarray(0,a));const w=k.create(u,c);o.push(w)}return o}class J{constructor(t,e,n,i){this.tokenTypeIndex=t,this.tokenModifierSet=e,this.languageId=n,this.metadata=i,this.next=null}}class E{static{this._SIZES=[3,7,13,31,61,127,251,509,1021,2039,4093,8191,16381,32749,65521,131071,262139,524287,1048573,2097143]}constructor(){this._elementsCount=0,this._currentLengthIndex=0,this._currentLength=E._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<E._SIZES.length?2/3*this._currentLength:0),this._elements=[],E._nullOutEntries(this._elements,this._currentLength)}static _nullOutEntries(t,e){for(let n=0;n<e;n++)t[n]=null}_hash2(t,e){return(t<<5)-t+e|0}_hashFunc(t,e,n){return this._hash2(this._hash2(t,e),n)%this._currentLength}get(t,e,n){const i=this._hashFunc(t,e,n);let s=this._elements[i];for(;s;){if(s.tokenTypeIndex===t&&s.tokenModifierSet===e&&s.languageId===n)return s;s=s.next}return null}add(t,e,n,i){if(this._elementsCount++,this._growCount!==0&&this._elementsCount>=this._growCount){const s=this._elements;this._currentLengthIndex++,this._currentLength=E._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<E._SIZES.length?2/3*this._currentLength:0),this._elements=[],E._nullOutEntries(this._elements,this._currentLength);for(const o of s){let r=o;for(;r;){const g=r.next;r.next=null,this._add(r),r=g}}}this._add(new J(t,e,n,i))}_add(t){const e=this._hashFunc(t.tokenTypeIndex,t.tokenModifierSet,t.languageId);t.next=this._elements[e],this._elements[e]=t}}},71269:(B,y,L)=>{L.d(y,{x:()=>T});class T{static getLanguageId(d){return(d&255)>>>0}static getTokenType(d){return(d&768)>>>8}static containsBalancedBrackets(d){return(d&1024)!==0}static getFontStyle(d){return(d&30720)>>>11}static getForeground(d){return(d&16744448)>>>15}static getBackground(d){return(d&4278190080)>>>24}static getClassNameFromMetadata(d){let m="mtk"+this.getForeground(d);const S=this.getFontStyle(d);return S&1&&(m+=" mtki"),S&2&&(m+=" mtkb"),S&4&&(m+=" mtku"),S&8&&(m+=" mtks"),m}static getInlineStyleFromMetadata(d,p){const m=this.getForeground(d),S=this.getFontStyle(d);let k=`color: ${p[m]};`;S&1&&(k+="font-style: italic;"),S&2&&(k+="font-weight: bold;");let v="";return S&4&&(v+=" underline"),S&8&&(v+=" line-through"),v&&(k+=`text-decoration:${v};`),k}static getPresentationFromMetadata(d){const p=this.getForeground(d),m=this.getFontStyle(d);return{foreground:p,italic:!!(m&1),bold:!!(m&2),underline:!!(m&4),strikethrough:!!(m&8)}}}},71521:(B,y,L)=>{L.d(y,{L:()=>I});var T=L(81545);const I=(0,T.u1)("languageService")}}]);
