"use strict";(self.webpackChunkjennifer5_frontend=self.webpackChunkjennifer5_frontend||[]).push([[46987],{3139:(w,N,n)=>{n.a(w,async(t,d)=>{try{n.d(N,{A:()=>o.A});var o=n(80431),a=t([o]);o=(a.then?(await a)():a)[0],d()}catch(A){d(A)}})},7402:(w,N,n)=>{n.a(w,async(t,d)=>{try{n.d(N,{A:()=>i});var o=n(3139),a=t([o]);o=(a.then?(await a)():a)[0];const i=o.A;d()}catch(A){d(A)}})},9728:(w,N,n)=>{n.d(N,{A:()=>v});var t=n(47577),d=n(67281),o=n(35375);const a={class:"main"},A={class:"top"},i={class:"middle"},g=["innerHTML"],k={class:"tools"},L=367,s=356,e=40,f=(0,t.pM)({__name:"ConfirmWindow",props:{trustRangeWidth:{},anomalousDuration:{}},emits:["apply","cancel","view"],setup(I,{emit:r}){const l=r,W=I,G=(0,t.WQ)("i18n",{M0739:"%s",viewOtherSettings:"View other settings"}),X=(0,t.WQ)("windowSize",{width:window.innerWidth,height:window.innerHeight}),b=(0,t.EW)(()=>{const h=G.M0739,y=G.viewOtherSettings;return{...G,bottomHtml:h.split("%s").join(`<span style="color: var(--purple-800)">'${y}'</span>`)}}),O=(0,t.EW)(()=>X.width-e-L),z=(0,t.EW)(()=>X.height-e-s),p=h=>h.toLocaleForAries();return(h,y)=>((0,t.uX)(),(0,t.Wv)(d.A,{class:"confirm-window","close-btn-type":"none","open-w":L,"open-h":s,"open-x":O.value,"open-y":z.value,messages:b.value,onApply:y[1]||(y[1]=()=>l("apply")),onCancel:y[2]||(y[2]=()=>l("cancel"))},{tools:(0,t.k6)(()=>[(0,t.Lk)("div",k,[(0,t.bF)(o.A,{normal:"",class:"border-none",items:[{text:(0,t.R1)(G).viewOtherSettings}],onClick:y[0]||(y[0]=()=>l("view"))},null,8,["items"])])]),default:(0,t.k6)(()=>[(0,t.Lk)("div",a,[(0,t.Lk)("div",A,(0,t.v_)(b.value.M0738),1),y[4]||(y[4]=(0,t.eW)()),(0,t.Lk)("div",i,[(0,t.Lk)("span",null,(0,t.v_)((0,t.R1)(G).trustRangeWidth)+`:
                    `+(0,t.v_)(p(W.trustRangeWidth))+(0,t.v_)((0,t.R1)(G).times),1),y[3]||(y[3]=(0,t.eW)(`,
                `)),(0,t.Lk)("span",null,(0,t.v_)((0,t.R1)(G).retentionTimeAfterBreak)+`:
                    `+(0,t.v_)(p(W.anomalousDuration/1e3))+(0,t.v_)((0,t.R1)(G).second),1)]),y[5]||(y[5]=(0,t.eW)()),(0,t.Lk)("div",{class:"bottom",innerHTML:b.value.bottomHtml},null,8,g)]),y[6]||(y[6]=(0,t.eW)())]),_:1,__:[6]},8,["open-x","open-y","messages"]))}});var u=n(35339);const v=(0,u.A)(f,[["__scopeId","data-v-cfc2d20a"]])},14669:(w,N,n)=>{n.a(w,async(t,d)=>{try{n.d(N,{A:()=>k});var o=n(42122),a=n(73672),A=n(35339),i=t([a]);a=(i.then?(await i)():i)[0];const k=(0,A.A)(a.A,[["render",o.X],["__scopeId","data-v-0f58dc09"]]);d()}catch(g){d(g)}})},17780:(w,N,n)=>{n.a(w,async(t,d)=>{try{n.d(N,{A:()=>I});var o=n(47577),a=n(80805),A=n(35375),i=n(88994),g=n(52034),k=n(9728),L=n(56114),s=n(44298),e=n(79526),f=n(1401),u=n(57222),S=n(73229),v=t([L]);L=(v.then?(await v)():v)[0];const I=(0,o.pM)({components:{RuleSetting:g.A,ToggleSwitch:a.A,Btn:A.A,Checkbox:i.A,ConfirmWindow:k.A,SimulationWindow:L.A,LoadingWindow:s.A},setup(r){const l=(0,o.WQ)("i18n",{}),{state:W,getters:G,commit:X,dispatch:b}=(0,f.P)("anomalyInRule"),O=(0,o.EW)(()=>W.selectedEventSettingForDomain),z=(0,o.EW)(()=>W.simulationLoadingProgress),p=(0,o.EW)(()=>W.simulationSettings),h=(0,o.Kh)({activeConfirm:!1,activeSimulation:!1,activeLoading:!1}),y=(0,o.KR)({...O.value}),C=(0,o.KR)({recommendOrder:0,trustRangeWidth:y.value.settingData.trustRangeWidth,anomalousDuration:y.value.settingData.anomalousDuration,eventCount:0}),j=async()=>{X(S.lL.CHANGE_SCREEN_MODE,"list")},V=async()=>{await b(S.QN.SAVE_ERROR_ROW_IN_DOMAIN,{domainId:y.value.sid,setting:y.value.settingData}),X(S.lL.CHANGE_SCREEN_MODE,"list")},M=async(Q=!1)=>{Q?(h.activeSimulation=!1,h.activeLoading=!0,await b(S.QN.FETCH_SIMULATION_SETTINGS,{domainId:y.value.sid,metric:y.value.settingData.eventType.key,period:7}),h.activeLoading=!1,h.activeSimulation=!0):p.value.length===0?(await b(S.QN.FETCH_SIMULATION_SETTINGS,{domainId:y.value.sid,metric:y.value.settingData.eventType.key,period:1}),h.activeConfirm=!0):h.activeSimulation=!0},Z=()=>{X(S.lL.CHANGE_SIMULATION_STOP_STATUS,!0)},T=Q=>{Q!==void 0?(C.value=Q,h.activeSimulation=!1):p.value.length>0&&(C.value=p.value[0],h.activeConfirm=!1)},m=()=>{h.activeConfirm=!1,h.activeSimulation=!0};return(0,o.KC)(()=>{X(S.lL.LOAD_CACHED_SIMULATION_SETTINGS)}),(0,u.v)(()=>{j()}),{i18n:l,windowStatus:h,simulationProgress:z,simulationSettings:p,formData:y,selectedSimulation:C,iconTypes:{open:e.B2.arrowUp,fold:e.B2.arrowDown},onClickCancelBtn:j,onClickSaveBtn:V,onStartSimulation:M,onStopSimulation:Z,onSelectSimulation:T,onViewSimulations:m,...(0,o.QW)(r)}}});d()}catch(I){d(I)}})},26468:(w,N,n)=>{n.d(N,{A:()=>f});var t=n(47577);const d={class:"error-type-layer"},o={class:"error-list"},a=["onClick"];function A(u,S,v,I,r,l){return(0,t.uX)(),(0,t.CE)("div",d,[(0,t.Lk)("div",o,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(u.errorTypes,(W,G)=>((0,t.uX)(),(0,t.CE)("div",{class:(0,t.C4)(["error",W.key===u.errorType.key?"active":""]),key:G,onClick:X=>u.onClickError(W)},(0,t.v_)(W.name),11,a))),128))])])}var i=n(1401),g=n(9438),k=n(57136);const L=(0,t.pM)({setup(){const{state:u,commit:S}=(0,i.P)("anomalyInRule"),v=(0,t.EW)(()=>u.selectedEventType),I=(0,t.KR)((0,k.jq)()),r=l=>{S(g.lL.CHANGE_SCREEN_MODE,"list"),S(g.lL.CHANGE_ERROR_DATA,l)};return S(g.lL.CHANGE_ERROR_DATA,I.value[0]),{i18n:(0,t.WQ)("i18n",{}),errorTypes:I,errorType:v,onClickError:r}}});var s=n(35339);const f=(0,s.A)(L,[["render",A],["__scopeId","data-v-cf31e2d0"]])},42122:(w,N,n)=>{n.d(N,{X:()=>I});var t=n(47577);const d={class:"domain-form"},o={class:"row"},a={class:"left"},A={class:"right"},i={class:"row-group"},g={class:"component"},k={class:"message"},L={class:"row-group"},s={class:"row"},e={class:"row"},f={class:"row"},u={class:"left"},S={class:"right"},v={class:"footer"};function I(r,l,W,G,X,b){const O=(0,t.g2)("toggle-switch"),z=(0,t.g2)("checkbox"),p=(0,t.g2)("rule-setting"),h=(0,t.g2)("btn"),y=(0,t.g2)("confirm-window"),C=(0,t.g2)("simulation-window"),j=(0,t.g2)("loading-window");return(0,t.uX)(),(0,t.CE)("div",d,[(0,t.Lk)("div",o,[(0,t.Lk)("div",a,(0,t.v_)(r.i18n.rule),1),l[11]||(l[11]=(0,t.eW)()),(0,t.Lk)("div",A,[(0,t.Lk)("div",i,[(0,t.Lk)("div",g,[(0,t.bF)(O,{active:r.formData.settingData.applied,"onUpdate:active":l[0]||(l[0]=V=>r.formData.settingData.applied=V)},null,8,["active"])]),l[8]||(l[8]=(0,t.eW)()),(0,t.Lk)("div",k,(0,t.v_)(r.i18n.M0715),1)]),l[10]||(l[10]=(0,t.eW)()),(0,t.Lk)("div",L,[(0,t.Lk)("div",s,[(0,t.bF)(z,{label:r.i18n.M0716,disabled:!r.formData.settingData.applied,active:r.formData.settingData.enableHigh,"onUpdate:active":l[1]||(l[1]=V=>r.formData.settingData.enableHigh=V)},null,8,["label","disabled","active"])]),l[9]||(l[9]=(0,t.eW)()),(0,t.Lk)("div",e,[(0,t.bF)(z,{label:r.i18n.M0717,disabled:!r.formData.settingData.applied,active:r.formData.settingData.enableLow,"onUpdate:active":l[2]||(l[2]=V=>r.formData.settingData.enableLow=V)},null,8,["label","disabled","active"])])])])]),l[14]||(l[14]=(0,t.eW)()),(0,t.Lk)("div",f,[(0,t.Lk)("div",u,(0,t.v_)(r.i18n.setting),1),l[12]||(l[12]=(0,t.eW)()),(0,t.Lk)("div",S,[(0,t.bF)(p,{"setting-data":r.formData.settingData,"simulation-setting":r.selectedSimulation,"simulation-progress":r.simulationProgress,onStartSimulation:l[3]||(l[3]=()=>r.onStartSimulation(!1)),onStopSimulation:r.onStopSimulation},null,8,["setting-data","simulation-setting","simulation-progress","onStopSimulation"])])]),l[15]||(l[15]=(0,t.eW)()),(0,t.Lk)("div",v,[(0,t.bF)(h,{class:"border-none",normal:"",items:[{text:r.i18n.cancel}],onClick:r.onClickCancelBtn},null,8,["items","onClick"]),l[13]||(l[13]=(0,t.eW)()),(0,t.bF)(h,{class:"primary",normal:"",items:[{text:r.i18n.saveChanges}],onClick:r.onClickSaveBtn},null,8,["items","onClick"])]),l[16]||(l[16]=(0,t.eW)()),r.windowStatus.activeConfirm&&r.simulationSettings.length>0?((0,t.uX)(),(0,t.Wv)(y,{key:0,"trust-range-width":r.simulationSettings[0].trustRangeWidth,"anomalous-duration":r.simulationSettings[0].anomalousDuration,onCancel:l[4]||(l[4]=()=>r.windowStatus.activeConfirm=!1),onView:r.onViewSimulations,onApply:r.onSelectSimulation},null,8,["trust-range-width","anomalous-duration","onView","onApply"])):(0,t.Q3)("v-if",!0),l[17]||(l[17]=(0,t.eW)()),r.windowStatus.activeSimulation?((0,t.uX)(),(0,t.Wv)(C,{key:1,onCancel:l[5]||(l[5]=()=>r.windowStatus.activeSimulation=!1),onSelect:r.onSelectSimulation,onRedo:l[6]||(l[6]=()=>r.onStartSimulation(!0)),rows:r.simulationSettings},null,8,["onSelect","rows"])):(0,t.Q3)("v-if",!0),l[18]||(l[18]=(0,t.eW)()),r.windowStatus.activeLoading?((0,t.uX)(),(0,t.Wv)(j,{key:2,onCancel:l[7]||(l[7]=()=>r.windowStatus.activeLoading=!1),onStop:r.onStopSimulation,progress:r.simulationProgress},null,8,["onStop","progress"])):(0,t.Q3)("v-if",!0)])}},44269:(w,N,n)=>{n.a(w,async(t,d)=>{try{n.d(N,{A:()=>S});var o=n(47577),a=n(73454),A=n(26468),i=n(89245),g=n(14669),k=n(91239),L=n(73530),s=n(1401),e=n(73229),f=n(53406),u=t([g]);g=(u.then?(await u)():u)[0];const S=(0,o.pM)({components:{EventHeader:a.A,EventTypeLayer:A.A,DomainList:i.A,DomainForm:g.A,LoadingPage:k.A},setup(){(0,o.Gt)("i18n",L.A);const{state:v,dispatch:I}=(0,s.P)("anomalyInRule"),r=(0,o.EW)(()=>v.loadingPercent),l=(0,o.EW)(()=>v.screenMode),W=(0,o.EW)(()=>v.useDomainGroup),G=(0,o.EW)(()=>v.domainGroupTree),X=(0,o.EW)(()=>v.domainList),b=(0,o.KR)([]);return I(e.QN.LOAD_RELATED_DOMAIN_ALL).then(()=>{b.value=(0,f.t4)(W.value,G.value,X.value).filter(O=>O.domainList.length>0)}),{loadingPercent:r,screenMode:l,domainListInGroup:b,i18nMessages:L.A}}});d()}catch(S){d(S)}})},44298:(w,N,n)=>{n.d(N,{A:()=>v});var t=n(47577),d=n(67281),o=n(35375),a=n(56879);const A={class:"loading-page"},i={class:"layer"},g={class:"top"},k=["innerHTML"],L={class:"detail"},s=840,e=692,f=(0,t.pM)({__name:"LoadingWindow",props:{progress:{}},emits:["stop","cancel"],setup(I,{emit:r}){const l=r,W=I,G=(0,t.WQ)("i18n",{}),X=(0,t.WQ)("windowSize",{width:window.innerWidth,height:window.innerHeight}),b=(0,t.EW)(()=>({...G})),O=(0,t.EW)(()=>X.width/2-s/2),z=(0,t.EW)(()=>X.height/2-e/2),p=(0,t.EW)(()=>Math.floor(W.progress*100));return(h,y)=>((0,t.uX)(),(0,t.Wv)(d.A,{class:"loading-window","open-w":s,"open-h":e,"open-x":O.value,"open-y":z.value,messages:b.value,"hide-cancel-btn":"","hide-apply-btn":"",onCancel:y[1]||(y[1]=()=>l("cancel"))},{subject:(0,t.k6)(()=>[(0,t.eW)((0,t.v_)((0,t.R1)(G).simulation),1)]),tools:(0,t.k6)(()=>[(0,t.bF)(o.A,{normal:"",items:[{text:(0,t.R1)(G).M0629}],onClick:y[0]||(y[0]=()=>l("stop"))},null,8,["items"])]),default:(0,t.k6)(()=>[y[4]||(y[4]=(0,t.eW)()),(0,t.Lk)("div",A,[(0,t.Lk)("div",i,[(0,t.Lk)("div",g,[(0,t.bF)(a.A,{size:170,percent:p.value},null,8,["percent"])]),y[2]||(y[2]=(0,t.eW)()),(0,t.Lk)("div",{class:"title",innerHTML:(0,t.R1)(G).M0742},null,8,k),y[3]||(y[3]=(0,t.eW)()),(0,t.Lk)("div",L,(0,t.v_)((0,t.R1)(G).M0743),1)])]),y[5]||(y[5]=(0,t.eW)())]),_:1,__:[4,5]},8,["open-x","open-y","messages"]))}});var u=n(35339);const v=(0,u.A)(f,[["__scopeId","data-v-0126c562"]])},48121:(w,N,n)=>{n.d(N,{A:()=>k});var t=n(47577);function d(L,s,e,f,u,S){return(0,t.uX)(),(0,t.CE)("div",{class:(0,t.C4)(["aries-ui-loading-btn",[L.size,{transparent:e.transparent}]])},[!e.disabled&&L.progress<1?((0,t.uX)(),(0,t.CE)("div",{key:0,class:(0,t.C4)(["loading",{suspendible:L.suspendible}]),onMouseover:s[0]||(s[0]=(...v)=>L.onMouseover&&L.onMouseover(...v)),onMouseleave:s[1]||(s[1]=(...v)=>L.onMouseleave&&L.onMouseleave(...v)),onClick:s[2]||(s[2]=(...v)=>L.onClickStopSearch&&L.onClickStopSearch(...v))},[(0,t.eW)((0,t.v_)(S.loadingMessage)+" ",1),(0,t.Lk)("div",{class:"loading-layer",style:(0,t.Tr)({width:L.progress*100+"%"})},null,4)],34)):((0,t.uX)(),(0,t.CE)("div",{key:1,class:(0,t.C4)(["default",{disabled:e.disabled}]),onClick:s[3]||(s[3]=(...v)=>L.onClickSearch&&L.onClickSearch(...v))},(0,t.v_)(S.i18n.search),3))],2)}var o=n(88308),a=n(44707);const A={name:"LoadingBtn",inject:{i18n:{default:()=>({search:"Search",searching:"Searching...",stopSearch:"Stop searching"})}},mixins:[a.A,o.A],props:{disabled:{type:Boolean,default:!1},showProgress:{type:Boolean,default:!0},transparent:{type:Boolean,default:!1}},computed:{loadingMessage(){if(this.stopActive)return this.i18n.stopSearch;let L=this.i18n.searching;return this.showProgress&&(L+=`${Math.floor(this.progress*100)}%`),L}}};var i=n(35339);const k=(0,i.A)(A,[["render",d],["__scopeId","data-v-d857babe"]])},48382:(w,N,n)=>{n.d(N,{AQ:()=>a,WE:()=>o,tp:()=>d});var t=n(86617);const d=[t.t7.service_time,t.t7.active_service,t.t7.concurrent_user,t.t7.sys_cpu,t.t7.sys_mem_rate],o=[d[0],d[1],d[2]],a="simulationSettingsInAnomalyEvent"},49089:(w,N,n)=>{n.a(w,async(t,d)=>{try{n.d(N,{A:()=>o.A});var o=n(44269),a=t([o]);o=(a.then?(await a)():a)[0],d()}catch(A){d(A)}})},52034:(w,N,n)=>{n.d(N,{A:()=>Z});var t=n(47577);const d={class:"row"},o=["innerHTML"],a={class:"row use-columns"},A={class:"column"},i={class:"subject"},g={class:"column"},k={class:"subject"},L={key:0,class:"column free"},s={class:"row use-columns"},e={class:"column large"},f={class:"subject"},u={class:"column"},S={class:"subject"},v={class:"row"},I={class:"subject"},r=["readonly"],l={class:"row"},W={class:"subject"},G={class:"etc"};function X(T,m,Q,D,U,c){const R=(0,t.g2)("format-number-input"),B=(0,t.g2)("loading-btn"),F=(0,t.g2)("btn"),H=(0,t.g2)("dropdown"),J=(0,t.g2)("checkbox"),E=(0,t.g2)("input-field");return(0,t.uX)(),(0,t.CE)("div",{class:(0,t.C4)(["rule-setting",T.formData.applied?"":"disabled"])},[(0,t.Lk)("div",d,[(0,t.Lk)("div",{class:"message",innerHTML:T.i18n.M0736},null,8,o)]),m[17]||(m[17]=(0,t.eW)()),(0,t.Lk)("div",a,[(0,t.Lk)("div",A,[(0,t.Lk)("div",i,(0,t.v_)(T.i18n.trustRangeWidth),1),m[5]||(m[5]=(0,t.eW)()),(0,t.bF)(R,{width:100,disabled:!T.formData.applied,value:T.trustRangeWidth,min:1,step:1,onInput:T.onInputTrustRangeWidth},null,8,["disabled","value","onInput"]),(0,t.eW)(" "+(0,t.v_)(T.i18n.times),1)]),m[10]||(m[10]=(0,t.eW)()),(0,t.Lk)("div",g,[(0,t.Lk)("div",k,(0,t.v_)(T.i18n.retentionTimeAfterBreak),1),m[6]||(m[6]=(0,t.eW)()),(0,t.bF)(R,{width:100,disabled:!T.formData.applied,value:T.anomalousDuration,min:1,step:1,onInput:T.onInputAnomalousDuration},null,8,["disabled","value","onInput"]),(0,t.eW)(" "+(0,t.v_)(T.i18n.second),1)]),m[11]||(m[11]=(0,t.eW)()),T.simulationSetting?((0,t.uX)(),(0,t.CE)("div",L,[m[7]||(m[7]=(0,t.Lk)("div",{class:"subject"},"\xA0",-1)),m[8]||(m[8]=(0,t.eW)()),(0,t.bF)(B,{normal:"",disabled:!T.formData.applied,progress:T.simulationProgress,onSearch:m[0]||(m[0]=()=>T.$emit("start-simulation")),onStopSearch:m[1]||(m[1]=()=>T.$emit("stop-simulation"))},null,8,["disabled","progress"]),m[9]||(m[9]=(0,t.eW)()),(0,t.bF)(F,{class:"border-none",normal:"",disabled:!T.formData.applied,items:[{iconType:T.iconTypes.help}],"tooltip-options":{message:T.i18n.M0737,position:"top-right"}},null,8,["disabled","items","tooltip-options"])])):(0,t.Q3)("v-if",!0)]),m[18]||(m[18]=(0,t.eW)()),(0,t.Lk)("div",s,[(0,t.Lk)("div",e,[(0,t.Lk)("div",f,(0,t.v_)(T.i18n.eventLevel),1),m[12]||(m[12]=(0,t.eW)()),(0,t.bF)(H,{normal:"",width:160,items:T.eventLevelItems,disabled:!T.formData.applied,"selected-value":T.formData.level,onOnchange:T.onChangeEventLevel},null,8,["items","disabled","selected-value","onOnchange"])]),m[14]||(m[14]=(0,t.eW)()),(0,t.Lk)("div",u,[(0,t.Lk)("div",S,(0,t.v_)(T.i18n.eventRollback),1),m[13]||(m[13]=(0,t.eW)()),(0,t.bF)(R,{width:100,disabled:!T.formData.applied,value:T.iconRecoveryTime,min:1,step:1,onInput:T.onInputIconRecoveryTime},null,8,["disabled","value","onInput"]),(0,t.eW)(" "+(0,t.v_)(T.i18n.second),1)])]),m[19]||(m[19]=(0,t.eW)()),(0,t.Lk)("div",v,[(0,t.Lk)("div",I,(0,t.v_)(T.i18n.M0394),1),m[15]||(m[15]=(0,t.eW)()),(0,t.bo)((0,t.Lk)("textarea",{readonly:!T.formData.applied,"onUpdate:modelValue":m[2]||(m[2]=$=>T.formData.customMessage=$)},null,8,r),[[t.Jo,T.formData.customMessage]])]),m[20]||(m[20]=(0,t.eW)()),m[21]||(m[21]=(0,t.Lk)("div",{class:"splitter"},null,-1)),m[22]||(m[22]=(0,t.eW)()),(0,t.Lk)("div",l,[(0,t.Lk)("div",W,[(0,t.bF)(J,{disabled:!T.formData.applied,label:T.i18n.scriptAutoRun,active:T.formData.scriptRunEnabled,"onUpdate:active":m[3]||(m[3]=$=>T.formData.scriptRunEnabled=$)},null,8,["disabled","label","active"])]),m[16]||(m[16]=(0,t.eW)()),(0,t.Lk)("div",G,[(0,t.bF)(E,{width:490,disabled:!T.formData.applied,value:T.formData.autoScriptCommand,"onUpdate:value":m[4]||(m[4]=$=>T.formData.autoScriptCommand=$)},null,8,["disabled","value"])])])],2)}var b=n(79526),O=n(97953),z=n(11649),p=n(65267),h=n(88994),y=n(48121),C=n(35375);const j=(0,t.pM)({inject:["i18n"],components:{FormatNumberInput:O.A,InputField:z.A,Dropdown:p.A,Checkbox:h.A,LoadingBtn:y.A,Btn:C.A},emits:["start-simulation","stop-simulation"],props:{settingData:{type:Object,required:!0},simulationSetting:{type:Object,required:!1},simulationProgress:{type:Number,required:!1}},setup(T,{}){const m=(0,t.WQ)("i18n",{normal:"NORMAL",warning:"WARNING",fatal:"FATAL"}),Q=[{text:m.normal,value:"NORMAL"},{text:m.warning,value:"WARNING"},{text:m.fatal,value:"FATAL"}],D=(0,t.Kh)(T.settingData),U=(0,t.KR)(D.iconRecoveryTime/1e3),c=(0,t.KR)(D.trustRangeWidth),R=(0,t.KR)(D.anomalousDuration/1e3),B=E=>{D.level=E.value},F=E=>{D.trustRangeWidth=E,c.value=E},H=E=>{D.anomalousDuration=E*1e3,R.value=E},J=E=>{D.iconRecoveryTime=E*1e3,U.value=E};return(0,t.wB)(()=>T.simulationSetting,E=>{F(E.trustRangeWidth),H(E.anomalousDuration/1e3)}),{i18n:m,eventLevelItems:Q,formData:D,anomalousDuration:R,iconRecoveryTime:U,trustRangeWidth:c,iconTypes:{help:b.B2.help},onChangeEventLevel:B,onInputAnomalousDuration:H,onInputIconRecoveryTime:J,onInputTrustRangeWidth:F}}});var V=n(35339);const Z=(0,V.A)(j,[["render",X],["__scopeId","data-v-1d47f208"]])},52799:(w,N,n)=>{n.a(w,async(t,d)=>{try{n.d(N,{A:()=>I});var o=n(47577),a=n(67281),A=n(35375),i=n(7402),g=t([i]);i=(g.then?(await g)():g)[0];const k={class:"main"},L={class:"top"},s=["innerHTML"],e=["innerHTML"],f={class:"bottom"},u={class:"btn-group"},S=840,v=692,I=(0,o.pM)({__name:"SimulationWindow",props:{rows:{}},emits:["redo","cancel","select"],setup(r,{emit:l}){const W=l,G=r,X=(0,o.WQ)("i18n",{}),b=(0,o.WQ)("windowSize",{width:window.innerWidth,height:window.innerHeight}),O=(0,o.EW)(()=>({...X})),z=(0,o.EW)(()=>b.width/2-S/2),p=(0,o.EW)(()=>b.height/2-v/2),h=(0,o.EW)(()=>G.rows);return(y,C)=>((0,o.uX)(),(0,o.Wv)(a.A,{class:"simulation-window","open-w":S,"open-h":v,"open-x":z.value,"open-y":p.value,messages:O.value,"hide-cancel-btn":"","hide-apply-btn":"",onCancel:C[2]||(C[2]=()=>W("cancel"))},{subject:(0,o.k6)(()=>[(0,o.eW)((0,o.v_)((0,o.R1)(X).simulation),1)]),tools:(0,o.k6)(()=>[(0,o.Lk)("div",u,[(0,o.bF)(A.A,{onClick:C[1]||(C[1]=()=>W("redo")),normal:"",items:[{text:(0,o.R1)(X).redo}]},null,8,["items"])])]),default:(0,o.k6)(()=>[C[5]||(C[5]=(0,o.eW)()),(0,o.Lk)("div",k,[(0,o.Lk)("div",L,[(0,o.Lk)("div",{class:"message first",innerHTML:(0,o.R1)(X).M0740},null,8,s),C[3]||(C[3]=(0,o.eW)()),(0,o.Lk)("div",{class:"message last",innerHTML:(0,o.R1)(X).M0741},null,8,e)]),C[4]||(C[4]=(0,o.eW)()),(0,o.Lk)("div",f,[(0,o.bF)(i.A,{rows:h.value,onSelect:C[0]||(C[0]=j=>W("select",j))},null,8,["rows"])])]),C[6]||(C[6]=(0,o.eW)())]),_:1,__:[5,6]},8,["open-x","open-y","messages"]))}});d()}catch(k){d(k)}})},56114:(w,N,n)=>{n.a(w,async(t,d)=>{try{n.d(N,{A:()=>g});var o=n(68219),a=n(35339),A=t([o]);o=(A.then?(await A)():A)[0];const g=(0,a.A)(o.A,[["__scopeId","data-v-94bc46d4"]]);d()}catch(i){d(i)}})},57136:(w,N,n)=>{n.d(N,{$X:()=>i,_8:()=>A,jq:()=>g,zT:()=>k});var t=n(86617),d=n(6373),o=n(48382),a=n(73530);function A(L){const s=Object.keys(t.t7),e=Object.values(t.t7),f=s.filter((u,S)=>e[S]===L)[0];return[d.Ru.get(`ui.mx.${f}`),f]}function i(L){return o.WE.includes(L)?[a.A.domain,a.A.M0713]:[a.A.instance,a.A.M0714]}function g(){return o.tp.map(L=>{const s=A(L);return{name:s[0],key:s[1],value:L}})}function k(L){return{applied:!0,level:"NORMAL",scriptRunEnabled:!1,iconRecoveryTime:6e4,enableHigh:!0,enableLow:!0,anomalousDuration:1e4,customMessage:"",autoScriptCommand:"",eventType:L,trustRangeWidth:3}}},57222:(w,N,n)=>{n.d(N,{v:()=>d});var t=n(47577);function d(o){const a=()=>{history.pushState(null,document.title,location.href)},A=()=>{a(),o()};(0,t.KC)(()=>{a(),window.addEventListener("popstate",A)}),(0,t.xo)(()=>{window.removeEventListener("popstate",A)})}},61214:(w,N,n)=>{n.d(N,{X:()=>L});var t=n(47577);const d={class:"app-eventctrl"},o={class:"top"},a={key:0,class:"bottom"},A={key:1,class:"bottom"},i={class:"left"},g={class:"right"},k={class:"scroll-view"};function L(s,e,f,u,S,v){const I=(0,t.g2)("loading-page"),r=(0,t.g2)("event-type-layer"),l=(0,t.g2)("event-header"),W=(0,t.g2)("domain-list"),G=(0,t.g2)("domain-form");return(0,t.uX)(),(0,t.CE)("div",d,[(0,t.Lk)("div",o,(0,t.v_)(s.i18nMessages.anomalyTitle),1),e[2]||(e[2]=(0,t.eW)()),s.loadingPercent<100?((0,t.uX)(),(0,t.CE)("div",a,[(0,t.bF)(I,{percent:s.loadingPercent},null,8,["percent"])])):((0,t.uX)(),(0,t.CE)("div",A,[(0,t.Lk)("div",i,[(0,t.bF)(r)]),e[1]||(e[1]=(0,t.eW)()),(0,t.Lk)("div",g,[(0,t.bF)(l),e[0]||(e[0]=(0,t.eW)()),(0,t.Lk)("div",k,[s.screenMode==="list"?((0,t.uX)(),(0,t.Wv)(W,{key:0,"domain-list-in-group":s.domainListInGroup},null,8,["domain-list-in-group"])):((0,t.uX)(),(0,t.Wv)(G,{key:1}))])])]))])}},68219:(w,N,n)=>{n.a(w,async(t,d)=>{try{n.d(N,{A:()=>o.A});var o=n(52799),a=t([o]);o=(a.then?(await a)():a)[0],d()}catch(A){d(A)}})},73229:(w,N,n)=>{n.d(N,{QN:()=>g,lL:()=>i});var t=n(21005),d=n(53406),o=n(57136),a=n(48382),A=n(97116);const i={CHANGE_SCREEN_MODE:"changeScreenMode",CHANGE_ERROR_DATA:"changeErrorData",SET_USE_DOMAIN_GROUP:"setUseDomainGroup",UPDATE_DOMAIN_GROUP_TREE:"updateDomainGroupTree",UPDATE_DOMAIN_LIST:"updateDomainList",SET_ERROR_LIST_IN_DOMAIN:"setErrorListInDomain",SET_ERROR_ROW_IN_DOMAIN:"setErrorRowInDomain",UPDATE_LOADING_PERCENT:"updateLoadingPercent",ADD_CHECKED_DOMAIN_IDS:"addCheckedDomainIds",RESET_CHECKED_DOMAIN_IDS:"resetCheckedDomainIds",UPDATE_BULK_SETTING_LOADING:"updateBulkSettingLoading",SELECT_EVENT_SETTING_FOR_DOMAIN:"selectEventSettingForDomain",UPDATE_LOADING_PROGRESS_FOR_SIMULATION:"updateLoadingProgressForSimulation",UPDATE_SIMULATION_SETTINGS:"updateSimulationSettings",CHANGE_SIMULATION_STOP_STATUS:"changeSimulationStopStatus",LOAD_CACHED_SIMULATION_SETTINGS:"LOAD_CACHED_SIMULATION_SETTINGS"},g={LOAD_DOMAIN_GROUP_TREE:"loadDomainGroupTree",LOAD_DOMAIN_LIST:"loadDomainList",LOAD_USE_DOMAIN_GROUP:"loadUseDomainGroup",LOAD_RELATED_DOMAIN_ALL:"loadRelatedDomainAll",LOAD_ERROR_LIST:"loadErrorList",SAVE_ERROR_ROW_IN_DOMAIN:"saveErrorRowInDomain",SAVE_ERROR_TARGETS_IN_DOMAIN:"saveErrorTargetsInDomain",LOAD_EVENT_SETTING_FOR_DOMAIN:"loadEventSettingForDomain",BULK_ERROR_ROW_IN_DOMAINS:"bulkErrorRowInDomains",FETCH_SIMULATION_SETTINGS:"fetchSimulationSettings"},k={namespaced:!0,state:()=>({module:"anomalyInRule",screenMode:"list",selectedEventType:{name:"",key:"",value:-1},checkedDomainIds:new Set,useDomainGroup:!1,domainGroupTree:[],domainList:[],loadingPercent:0,bulkSettingLoading:!1,selectedEventSettingForDomain:{domain:"",sid:-1,settingData:(0,o.zT)({name:"",key:"",value:-1})},simulationSettings:[],simulationLoadingProgress:1,isStoppedSimulation:!1}),mutations:{[i.CHANGE_SCREEN_MODE](s,e){s.screenMode=e},[i.CHANGE_ERROR_DATA](s,e){s.selectedEventType=e},[i.SET_USE_DOMAIN_GROUP](s,e){s.useDomainGroup=e},[i.UPDATE_DOMAIN_GROUP_TREE](s,e){s.domainGroupTree=e},[i.UPDATE_DOMAIN_LIST](s,e){s.domainList=e.map(f=>({sid:f.sid,shortName:f.shortName,settingMap:{}}))},[i.SET_ERROR_LIST_IN_DOMAIN](s,e){const f=s.domainList.findIndex(u=>u.sid===e.domainId);e.settingList.forEach(u=>{s.domainList[f].settingMap[u.eventType.key]=u})},[i.SET_ERROR_ROW_IN_DOMAIN](s,e){const f=s.domainList.findIndex(u=>u.sid===e.domainId);s.domainList[f].settingMap[e.setting.eventType.key]=e.setting},[i.UPDATE_LOADING_PERCENT](s,e){s.loadingPercent=e},[i.ADD_CHECKED_DOMAIN_IDS](s,e){const f=new Set;s.checkedDomainIds.forEach(u=>{f.add(u)}),e.filter(u=>!u.checked).forEach(u=>{f.delete(u.sid)}),e.filter(u=>u.checked).forEach(u=>{f.add(u.sid)}),s.checkedDomainIds=f},[i.RESET_CHECKED_DOMAIN_IDS](s){s.checkedDomainIds=new Set},[i.UPDATE_BULK_SETTING_LOADING](s,e){s.bulkSettingLoading=e},[i.SELECT_EVENT_SETTING_FOR_DOMAIN](s,e){s.selectedEventSettingForDomain=e},[i.UPDATE_LOADING_PROGRESS_FOR_SIMULATION](s,e){s.simulationLoadingProgress=e},[i.CHANGE_SIMULATION_STOP_STATUS](s,e){s.isStoppedSimulation=e},[i.UPDATE_SIMULATION_SETTINGS](s,e=null){e!==null?(sessionStorage.setItem(`${a.AQ}#${s.selectedEventType.key}:${s.selectedEventSettingForDomain.sid}`,JSON.stringify(e)),s.simulationSettings=e):s.simulationSettings=[]},[i.LOAD_CACHED_SIMULATION_SETTINGS](s){const e=sessionStorage.getItem(`${a.AQ}#${s.selectedEventType.key}:${s.selectedEventSettingForDomain.sid}`);e!==null?s.simulationSettings=JSON.parse(e):s.simulationSettings=[]}},actions:{async[g.LOAD_DOMAIN_GROUP_TREE]({commit:s}){const{data:e}=await t.A.get("/api-v2/manage/domain-group");s(i.UPDATE_DOMAIN_GROUP_TREE,(0,d.JP)(e))},async[g.LOAD_DOMAIN_LIST]({commit:s}){const{data:e}=await t.A.get("/domain/connectedList");s(i.UPDATE_DOMAIN_LIST,e)},async[g.LOAD_USE_DOMAIN_GROUP]({commit:s}){const{data:e}=await t.A.get("/domain/groups/status/usage");s(i.SET_USE_DOMAIN_GROUP,e)},async[g.LOAD_ERROR_LIST]({commit:s},e){const f=await t.A.get(`/api-v2/manage/rule/event/anomaly/${e}/domain`),u=await t.A.get(`/api-v2/manage/rule/event/anomaly/${e}/instance`),S=[];a.tp.forEach(v=>{const I=(0,o._8)(v),r=f.data[I[1]],l=u.data[I[1]],W={name:I[0],key:I[1],value:v};r&&S.push({...r,eventType:W}),l&&S.push({...l,eventType:W})}),s(i.SET_ERROR_LIST_IN_DOMAIN,{domainId:e,settingList:S})},async[g.LOAD_RELATED_DOMAIN_ALL]({state:s,commit:e,dispatch:f}){if(s.loadingPercent===0){await f(g.LOAD_USE_DOMAIN_GROUP),await f(g.LOAD_DOMAIN_LIST),await f(g.LOAD_DOMAIN_GROUP_TREE);let u=0;const S=s.domainList.length,v=()=>{u+=1,e(i.UPDATE_LOADING_PERCENT,u/S*100)};s.domainList.forEach(I=>{f(g.LOAD_ERROR_LIST,I.sid).then(()=>{v()}).catch(()=>{v()}).finally(()=>{u===S&&e(i.UPDATE_LOADING_PERCENT,100)})})}},async[g.SAVE_ERROR_ROW_IN_DOMAIN]({state:s,commit:e,dispatch:f},u){const S=u.setting,v=a.WE.includes(S.eventType.value)?"domain":"instance",I=S.eventType.key,r={...S};delete r.eventType,await t.A.put(`/api-v2/manage/rule/event/anomaly/${u.domainId}/${v}/${I}`,r),e(i.SET_ERROR_ROW_IN_DOMAIN,u)},async[g.LOAD_EVENT_SETTING_FOR_DOMAIN]({state:s,commit:e,dispatch:f},u){const S={domain:u.domainName,sid:u.domainId,settingData:u.settingData};e(i.SELECT_EVENT_SETTING_FOR_DOMAIN,S),e(i.CHANGE_SCREEN_MODE,"modify")},async[g.BULK_ERROR_ROW_IN_DOMAINS]({state:s,commit:e,dispatch:f},u){e(i.UPDATE_BULK_SETTING_LOADING,!0);let S=0;function v(I){s.checkedDomainIds.size===I&&(e(i.UPDATE_BULK_SETTING_LOADING,!1),e(i.RESET_CHECKED_DOMAIN_IDS))}s.checkedDomainIds.forEach(I=>{f(g.SAVE_ERROR_ROW_IN_DOMAIN,{domainId:I,setting:u}).then(()=>{S+=1,v(S)})})},async[g.FETCH_SIMULATION_SETTINGS]({state:s,commit:e,dispatch:f},u){const{domainId:S,metric:v,period:I}=u;async function r(l=""){if(l===""){e(i.CHANGE_SIMULATION_STOP_STATUS,!1),e(i.UPDATE_LOADING_PROGRESS_FOR_SIMULATION,0);const{data:W}=await t.A.get(`/api-v2/event/anomaly/simulation/session/${S}/${v}`,{params:{type:"domain",period:I}});await r(W.sessionId)}else if(s.isStoppedSimulation)e(i.UPDATE_LOADING_PROGRESS_FOR_SIMULATION,1);else{const{data:W}=await t.A.get(`/api-v2/event/anomaly/simulation/data/${l}`,{params:{type:"domain"}});e(i.UPDATE_SIMULATION_SETTINGS,W.partialData.result),e(i.UPDATE_LOADING_PROGRESS_FOR_SIMULATION,W.progress),W.hasNext&&await r(l)}}await r("")}}};A.A.hasModule("anomalyInRule")||A.A.registerModule("anomalyInRule",k);var L=null},73454:(w,N,n)=>{n.d(N,{A:()=>U});var t=n(47577);const d={class:"error-header"},o={class:"left"},a={class:"name"},A={key:0,class:"description"},i={class:"label"},g={class:"label"},k={class:"right"};function L(c,R,B,F,H,J){const E=(0,t.g2)("btn"),$=(0,t.g2)("tooltip"),K=(0,t.g2)("bulk-setting-window");return(0,t.uX)(),(0,t.CE)("div",d,[(0,t.Lk)("div",o,[c.screenMode==="modify"?((0,t.uX)(),(0,t.Wv)(E,{key:0,normal:"",class:"border-none",items:[{iconType:c.backOptions.iconType}],onClick:c.onClickBackToList},null,8,["items","onClick"])):(0,t.Q3)("v-if",!0),R[1]||(R[1]=(0,t.eW)()),(0,t.Lk)("div",a,[(0,t.eW)((0,t.v_)(c.subject)+" ",1),c.description.length===2?((0,t.uX)(),(0,t.CE)("span",A,[(0,t.bF)($,{message:c.i18n.target,position:"top-center"},{default:(0,t.k6)(()=>[(0,t.Lk)("span",i,(0,t.v_)(c.description[0]),1)]),_:1},8,["message"]),R[0]||(R[0]=(0,t.eW)()),(0,t.bF)($,{message:c.i18n.purpose,position:"top-center"},{default:(0,t.k6)(()=>[(0,t.Lk)("span",g,(0,t.v_)(c.description[1]),1)]),_:1},8,["message"])])):(0,t.Q3)("v-if",!0)])]),R[2]||(R[2]=(0,t.eW)()),(0,t.Lk)("div",k,[c.screenMode==="list"?((0,t.uX)(),(0,t.Wv)(E,{key:0,normal:"",items:[{text:c.i18n.bulkSetting}],pressed:c.showBulkWindow,disabled:c.checkedDomainIds.size===0,loading:c.bulkSettingLoading,onClick:c.onToggleBulkWindow},null,8,["items","pressed","disabled","loading","onClick"])):(0,t.Q3)("v-if",!0)]),R[3]||(R[3]=(0,t.eW)()),c.showBulkWindow?((0,t.uX)(),(0,t.Wv)(K,{key:0,onClose:c.onCloseBulkWindow},null,8,["onClose"])):(0,t.Q3)("v-if",!0)])}var s=n(79526),e=n(35375),f=n(8355);const u={class:"main"},S={class:"message"},v={class:"row"},I={class:"subject"},r={class:"component"},l={class:"row-group"},W={class:"row"},G={class:"row"},X={class:"scroll-view"},b={class:"row"};function O(c,R,B,F,H,J){const E=(0,t.g2)("toggle-switch"),$=(0,t.g2)("checkbox"),K=(0,t.g2)("rule-setting"),P=(0,t.g2)("window");return(0,t.uX)(),(0,t.Wv)(P,{class:"bulk-setting-window","open-w":576,"open-h":706,"open-x":c.windowX,"open-y":c.windowY,messages:{apply:c.i18n.save,cancel:c.i18n.cancel},onCancel:c.onClickCancelBtn,onApply:c.onClickApplyBtn},{subject:(0,t.k6)(()=>[(0,t.eW)((0,t.v_)(c.i18n.bulkSetting),1)]),default:(0,t.k6)(()=>[R[11]||(R[11]=(0,t.eW)()),(0,t.Lk)("div",u,[(0,t.Lk)("div",S,(0,t.v_)(c.i18n.M0715),1),R[6]||(R[6]=(0,t.eW)()),(0,t.Lk)("div",v,[(0,t.Lk)("div",I,(0,t.v_)(c.i18n.instanceGlobalRule),1),R[3]||(R[3]=(0,t.eW)()),(0,t.Lk)("div",r,[(0,t.bF)(E,{active:c.eventSetting.applied,"onUpdate:active":R[0]||(R[0]=Y=>c.eventSetting.applied=Y)},null,8,["active"])])]),R[7]||(R[7]=(0,t.eW)()),(0,t.Lk)("div",l,[(0,t.Lk)("div",W,[(0,t.bF)($,{label:c.i18n.M0716,disabled:!c.eventSetting.applied,active:c.eventSetting.enableHigh,"onUpdate:active":R[1]||(R[1]=Y=>c.eventSetting.enableHigh=Y)},null,8,["label","disabled","active"])]),R[4]||(R[4]=(0,t.eW)()),(0,t.Lk)("div",G,[(0,t.bF)($,{label:c.i18n.M0717,disabled:!c.eventSetting.applied,active:c.eventSetting.enableLow,"onUpdate:active":R[2]||(R[2]=Y=>c.eventSetting.enableLow=Y)},null,8,["label","disabled","active"])])]),R[8]||(R[8]=(0,t.eW)()),R[9]||(R[9]=(0,t.Lk)("div",{class:"splitter"},null,-1)),R[10]||(R[10]=(0,t.eW)()),(0,t.Lk)("div",X,[(0,t.Lk)("div",b,[(0,t.Lk)("div",{class:"subject",style:(0,t.Tr)({opacity:c.eventSetting.applied?1:.6})},(0,t.v_)(c.i18n.setting),5),R[5]||(R[5]=(0,t.eW)()),(0,t.bF)(K,{"setting-data":c.eventSetting},null,8,["setting-data"])])])])]),_:1,__:[11]},8,["open-x","open-y","messages","onCancel","onApply"])}var z=n(67281),p=n(80805),h=n(88994),y=n(52034),C=n(1401),j=n(73229),V=n(57136);const M=(0,t.pM)({inject:["i18n"],components:{Window:z.A,ToggleSwitch:p.A,Checkbox:h.A,RuleSetting:y.A},emits:["close"],setup(c,{emit:R}){const{state:B,dispatch:F}=(0,C.P)("anomalyInRule"),H=(0,t.WQ)("i18n",{}),J=(0,t.WQ)("windowSize",{width:window.innerWidth,height:window.innerHeight}),E=(0,t.EW)(()=>B.selectedEventType),$=(0,t.KR)((0,V.zT)(E.value)),K=(0,t.EW)(()=>J.width/2-576/2),P=(0,t.EW)(()=>J.height/2-706/2),Y=()=>{R("close")};return{i18n:H,eventType:E,eventSetting:$,windowX:K,windowY:P,onClickCancelBtn:Y,onClickApplyBtn:()=>{F(j.QN.BULK_ERROR_ROW_IN_DOMAINS,$.value),Y()}}}});var Z=n(35339);const m=(0,Z.A)(M,[["render",O],["__scopeId","data-v-a6b6fcb0"]]),Q=(0,t.pM)({components:{Btn:e.A,SvgIcon:s.Ah,Tooltip:f.A,BulkSettingWindow:m},setup(){const{state:c,commit:R}=(0,C.P)("anomalyInRule"),B=(0,t.WQ)("i18n",{}),F=(0,t.EW)(()=>c.screenMode),H=(0,t.EW)(()=>c.selectedEventType),J=(0,t.EW)(()=>c.checkedDomainIds),E=(0,t.EW)(()=>c.bulkSettingLoading),$=(0,t.EW)(()=>c.selectedEventSettingForDomain),K=(0,t.KR)(H.value.name),P=(0,t.KR)((0,V.$X)(H.value.value)),Y=(0,t.KR)(!1);(0,t.wB)(H,()=>{F.value==="list"&&(K.value=H.value.name,P.value=(0,V.$X)(H.value.value),Y.value=!1)}),(0,t.wB)(J,()=>{J.value.size===0&&(Y.value=!1)}),(0,t.wB)(F,()=>{K.value=F.value==="list"?H.value.name:$.value.domain,P.value=F.value==="list"?(0,V.$X)(H.value.value):[]});const x=()=>{Y.value=!Y.value},q=()=>{Y.value=!1},_=()=>{R(j.lL.CHANGE_SCREEN_MODE,"list")};return{backOptions:{iconType:s.B2.arrowBack},i18n:B,screenMode:F,subject:K,description:P,showBulkWindow:Y,checkedDomainIds:J,bulkSettingLoading:E,onClickBackToList:_,onToggleBulkWindow:x,onCloseBulkWindow:q}}}),U=(0,Z.A)(Q,[["render",L],["__scopeId","data-v-5d2463ed"]])},73672:(w,N,n)=>{n.a(w,async(t,d)=>{try{n.d(N,{A:()=>o.A});var o=n(17780),a=t([o]);o=(a.then?(await a)():a)[0],d()}catch(A){d(A)}})},80431:(w,N,n)=>{n.a(w,async(t,d)=>{try{n.d(N,{A:()=>g});var o=n(47577),a=n(76843),A=n(10324),i=t([A]);A=(i.then?(await i)():i)[0];const g=(0,o.pM)({__name:"SimulationTable",props:{rows:{}},emits:["select"],setup(k,{emit:L}){a.A.use(A.A);const s=k,e=L,f=(0,o.WQ)("i18n",{}),u=(0,o.KR)(null);return(0,o.sV)(()=>{a.A.create("grid.table",u.value,{fields:["trustRangeWidth","anomalousDuration","eventCount","recommendOrder"],rows:s.rows,sort:!0,scroll:!0,scrollHeight:388,resize:!0,tpl:{row:"<tr><td><!= trustRangeWidth !></td><td><!= anomalousDuration / 1000 !></td><td><!= eventCount !></td><td><!= recommendOrder !></td></tr>"},event:{select:S=>{e("select",S.data)}}})}),(S,v)=>((0,o.uX)(),(0,o.CE)("table",{ref_key:"element",ref:u,class:(0,o.C4)(["simulation-table","table","nowrap","hover","borderless",s.rows.length>=10?"scroll":""])},[(0,o.Lk)("thead",null,[(0,o.Lk)("tr",null,[(0,o.Lk)("th",null,(0,o.v_)((0,o.R1)(f).trustRangeWidth)+" ("+(0,o.v_)((0,o.R1)(f).times)+")",1),v[0]||(v[0]=(0,o.eW)()),(0,o.Lk)("th",null,(0,o.v_)((0,o.R1)(f).retentionTimeAfterBreak)+" ("+(0,o.v_)((0,o.R1)(f).second)+")",1),v[1]||(v[1]=(0,o.eW)()),(0,o.Lk)("th",null,(0,o.v_)((0,o.R1)(f).eventCount),1),v[2]||(v[2]=(0,o.eW)()),(0,o.Lk)("th",null,(0,o.v_)((0,o.R1)(f).recommendedRanking),1)])]),v[3]||(v[3]=(0,o.eW)()),v[4]||(v[4]=(0,o.Lk)("tbody",null,null,-1))],2))}});d()}catch(g){d(g)}})},88308:(w,N,n)=>{n.d(N,{A:()=>t});const t={props:{disabled:{type:Boolean,default:!1},progress:{type:Number,default:1,validator(d){return d>=0&&d<=1}},suspendible:{type:Boolean,default:!0}},data(){return{stopActive:!1}},methods:{onMouseover(){this.suspendible&&(this.stopActive=!0)},onMouseleave(){this.suspendible&&(this.stopActive=!1)},onClickSearch(){this.stopActive=!1,this.$emit("search")},onClickStopSearch(){this.suspendible&&this.$emit("stop-search")}}}},89245:(w,N,n)=>{n.d(N,{A:()=>z});var t=n(47577);const d={class:"domain-list"},o={class:"group"},a={key:0,class:"subject"},A={key:0,class:"name"},i={class:"parent-names"},g={class:"name"},k={class:"status"},L={key:0,class:"active-icon"},s={class:"status"},e={key:0,class:"active-icon"};function f(p,h,y,C,j,V){const M=(0,t.g2)("svg-icon"),Z=(0,t.g2)("event-level"),T=(0,t.g2)("toggle-switch"),m=(0,t.g2)("setting-table");return(0,t.uX)(),(0,t.CE)("div",d,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(p.domainListInGroup,Q=>((0,t.uX)(),(0,t.CE)("div",o,[p.useDomainGroup?((0,t.uX)(),(0,t.CE)("div",a,[Q.isUnknown?((0,t.uX)(),(0,t.CE)("div",A,(0,t.v_)(p.i18n.unknownGroup),1)):((0,t.uX)(),(0,t.CE)(t.FK,{key:1},[(0,t.Lk)("div",i,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(Q.parentNames,(D,U)=>((0,t.uX)(),(0,t.CE)(t.FK,null,[U<Q.parentNames.length-1?((0,t.uX)(),(0,t.CE)(t.FK,{key:0},[(0,t.eW)((0,t.v_)(D)+" ",1),U<Q.parentNames.length-2?((0,t.uX)(),(0,t.Wv)(M,{key:0,icon:p.subjectOptions.iconType,width:p.subjectOptions.iconSize,height:p.subjectOptions.iconSize},null,8,["icon","width","height"])):(0,t.Q3)("v-if",!0)],64)):(0,t.Q3)("v-if",!0)],64))),256))]),h[0]||(h[0]=(0,t.eW)()),(0,t.Lk)("div",g,(0,t.v_)(Q.simpleName),1)],64))])):(0,t.Q3)("v-if",!0),h[8]||(h[8]=(0,t.eW)()),(0,t.bF)(m,{columns:p.columns,rows:Q.domainList,"min-width":600,selectable:"",onCheck:p.onCheckTableRow,onSelect:p.onSelectTableRow},{row:(0,t.k6)(({data:D})=>[(0,t.Lk)("td",{style:(0,t.Tr)({textDecoration:p.validSettingMap(D.settingMap[p.eventType.key])?"":"line-through"})},(0,t.v_)(D.shortName),5),h[1]||(h[1]=(0,t.eW)()),(0,t.Lk)("td",null,(0,t.v_)(p.printColumnValue("trustRangeWidth",{...D.settingMap[p.eventType.key]},!1,!0)),1),h[2]||(h[2]=(0,t.eW)()),(0,t.Lk)("td",null,(0,t.v_)(p.printColumnValue("anomalousDuration",{...D.settingMap[p.eventType.key]},!0)),1),h[3]||(h[3]=(0,t.eW)()),(0,t.Lk)("td",null,(0,t.v_)(p.printColumnValue("iconRecoveryTime",{...D.settingMap[p.eventType.key]},!0)),1),h[4]||(h[4]=(0,t.eW)()),(0,t.Lk)("td",null,[(0,t.bF)(Z,{level:p.printEventLevel({...D.settingMap[p.eventType.key]})},null,8,["level"])]),h[5]||(h[5]=(0,t.eW)()),(0,t.Lk)("td",k,[p.printColumnValue("enableHigh",{...D.settingMap[p.eventType.key]})>0?((0,t.uX)(),(0,t.CE)("span",L)):(0,t.Q3)("v-if",!0)]),h[6]||(h[6]=(0,t.eW)()),(0,t.Lk)("td",s,[p.printColumnValue("enableLow",{...D.settingMap[p.eventType.key]})>0?((0,t.uX)(),(0,t.CE)("span",e)):(0,t.Q3)("v-if",!0)]),h[7]||(h[7]=(0,t.eW)()),(0,t.Lk)("td",null,[(0,t.bF)(T,{small:"",disabled:!p.validSettingMap(D.settingMap[p.eventType.key]),active:p.printColumnValue("applied",{...D.settingMap[p.eventType.key]}),onChange:U=>p.onToggleEventRule(D.sid,{...D.settingMap[p.eventType.key]})},null,8,["disabled","active","onChange"])])]),_:2},1032,["columns","rows","onCheck","onSelect"])]))),256))])}var u=n(80805),S=n(79526),v=n(40317),I=n(88595),r=n(1401),l=n(73229),W=n(86617);function G(p){return[{field:"shortName",label:p.domainName,width:"25%"},{field:null,label:p.trustRangeWidth},{field:null,label:p.retentionTimeAfterBreak},{field:null,label:p.eventRollback},{field:null,label:p.eventLevel},{field:null,label:p.upperLimitRule},{field:null,label:p.lowerLimitRule},{field:null,label:p.instanceGlobalRule}]}const X=(0,t.pM)({inject:["i18n"],components:{ToggleSwitch:u.A,SvgIcon:S.Ah,SettingTable:v.A,EventLevel:I.A},props:{domainListInGroup:{type:Array,required:!0}},setup(p,{emit:h}){const{state:y,commit:C,dispatch:j}=(0,r.P)("anomalyInRule"),V=(0,t.EW)(()=>y.useDomainGroup),M=(0,t.EW)(()=>y.selectedEventType),Z=(0,t.WQ)("i18n",{second:"sec",times:"times"}),T=G(Z),m={iconType:S.B2.arrowRight,iconSize:16},Q=(F,H,J=!1,E=!1)=>{const $=H[F];return $!==void 0?J?`${$/1e3}${Z.second}`:E?`${$}${Z.times}`:$:""},D=F=>F!==void 0,U=F=>{const H=Q("level",{...F});if(H==="NORMAL")return W.s0.NORMAL;if(H==="WARNING")return W.s0.WARNING;if(H==="FATAL")return W.s0.FATAL},c=(F,H)=>{j(l.QN.SAVE_ERROR_ROW_IN_DOMAIN,{domainId:F,setting:{...H,applied:!H.applied}})},R=F=>{C(l.lL.ADD_CHECKED_DOMAIN_IDS,F)},B=async F=>{const H=F.settingMap[M.value.key];D(H)&&await j(l.QN.LOAD_EVENT_SETTING_FOR_DOMAIN,{domainName:F.shortName,domainId:F.sid,settingData:{...H}})};return{i18n:Z,columns:T,subjectOptions:m,useDomainGroup:V,eventType:M,domainListInGroup:(0,t.lW)(p,"domainListInGroup"),validSettingMap:D,printColumnValue:Q,printEventLevel:U,onToggleEventRule:c,onCheckTableRow:R,onSelectTableRow:B}}});var b=n(35339);const z=(0,b.A)(X,[["render",f],["__scopeId","data-v-6f52a09d"]])},95040:(w,N,n)=>{n.a(w,async(t,d)=>{try{n.r(N),n.d(N,{default:()=>k});var o=n(61214),a=n(49089),A=n(35339),i=t([a]);a=(i.then?(await i)():i)[0];const k=(0,A.A)(a.A,[["render",o.X]]);d()}catch(g){d(g)}})}}]);
