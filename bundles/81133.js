"use strict";(self.webpackChunkjennifer5_frontend=self.webpackChunkjennifer5_frontend||[]).push([[81133],{3515:(R,f,r)=>{r.d(f,{A:()=>b});var e=r(47577);const L={class:"memos"},D={class:"title"},w={key:0,class:"separator"},I={class:"list"};function W(C,F,Q,q,x,h){const y=(0,e.g2)("memo-comp");return(0,e.uX)(),(0,e.CE)("div",L,[(0,e.Lk)("div",D,(0,e.v_)(C.subject),1),F[0]||(F[0]=(0,e.eW)()),C.useSeparator?((0,e.uX)(),(0,e.CE)("div",w)):(0,e.Q3)("v-if",!0),F[1]||(F[1]=(0,e.eW)()),(0,e.Lk)("div",I,[C.memoItems.length>0?((0,e.uX)(!0),(0,e.CE)(e.FK,{key:0},(0,e.pI)(C.memoItems,(j,E)=>((0,e.uX)(),(0,e.Wv)(y,{key:E,"memo-type":C.memoType,"memo-text":j,"use-sub-text":C.useSubText,"icon-size":C.iconSize,"use-delete-btn":"",onDelete:G=>C.onDeleteMemo(j,E),onSelect:G=>C.onSelectMemo(j,E)},null,8,["memo-type","memo-text","use-sub-text","icon-size","onDelete","onSelect"]))),128)):(0,e.Q3)("v-if",!0)])])}var A=r(78496);const X=(0,e.pM)({components:{MemoComp:A.A},props:{subject:{type:String,required:!0},memoType:{type:String,required:!1,default:"normal"},memoItems:{type:Array,required:!0},useSubText:{type:Boolean,required:!1,default:!1},useSeparator:{type:Boolean,required:!1,default:!0},iconSize:{type:Number,required:!1,default:16}},emits:["delete","select"],setup(C,{emit:F}){return{i18n:(0,e.WQ)("i18n",{}),onSelectMemo:(h,y)=>{F("select",h,y)},onDeleteMemo:(h,y)=>{F("delete",h,y)},...(0,e.QW)(C)}}});var k=r(35339);const b=(0,k.A)(X,[["render",W],["__scopeId","data-v-38678256"]])},8875:(R,f,r)=>{r.r(f),r.d(f,{default:()=>eo});var e=r(47577);const L={class:"app"};function D(s,t,n,a,o,i){const _=(0,e.g2)("index-page"),d=(0,e.g2)("user-detail"),p=(0,e.g2)("permission-detail"),u=(0,e.g2)("approval-req-window"),c=(0,e.g2)("connection-info-window"),m=(0,e.g2)("connection-info-list-window"),O=(0,e.g2)("unlock-user-window");return(0,e.uX)(),(0,e.CE)("div",L,[s.screenMode==="list"?((0,e.uX)(),(0,e.Wv)(_,{key:0,onShowWaitedUser:i.onShowWaitedUser,onShowLockedUser:i.onShowLockedUser,onShowConnectingUsers:i.onShowConnectingUsers},null,8,["onShowWaitedUser","onShowLockedUser","onShowConnectingUsers"])):s.screenMode==="add-user"?((0,e.uX)(),(0,e.Wv)(d,{key:1,"is-new":!0})):s.screenMode==="modify-user"?((0,e.uX)(),(0,e.Wv)(d,{key:2,"is-new":!1,onShowWaitedUser:i.onShowWaitedUser,onShowLockedUser:i.onShowLockedUser,onShowConnectingUsers:i.onShowConnectingUsers},null,8,["onShowWaitedUser","onShowLockedUser","onShowConnectingUsers"])):s.screenMode==="add-permission"?((0,e.uX)(),(0,e.Wv)(p,{key:3,"is-new":!0})):s.screenMode==="modify-permission"?((0,e.uX)(),(0,e.Wv)(p,{key:4,"is-new":!1})):(0,e.Q3)("v-if",!0),t[7]||(t[7]=(0,e.eW)()),s.screenMode==="list"||s.screenMode==="modify-user"?((0,e.uX)(),(0,e.CE)(e.FK,{key:5},[o.approvalReqData.active?((0,e.uX)(),(0,e.Wv)(u,{key:0,width:o.approvalReqData.width,height:o.approvalReqData.height,left:o.approvalReqData.left,top:o.approvalReqData.top,"user-id":o.approvalReqData.userId,"user-name":o.approvalReqData.userName,permissions:s.permissions,onCancel:t[0]||(t[0]=()=>o.approvalReqData.active=!1),onApply:i.onApplyApprovalReqWindow},null,8,["width","height","left","top","user-id","user-name","permissions","onApply"])):(0,e.Q3)("v-if",!0),t[4]||(t[4]=(0,e.eW)()),o.connectionInfoData.active?((0,e.uX)(),(0,e.Wv)(c,{key:1,width:o.connectionInfoData.width,height:o.connectionInfoData.height,left:o.connectionInfoData.left,top:o.connectionInfoData.top,"user-id":o.connectionInfoData.id,"session-id":o.connectionInfoData.sessionId,"client-ip":o.connectionInfoData.clientIp,browser:o.connectionInfoData.browser,"is-self":o.connectionInfoData.isSelf,onCancel:t[1]||(t[1]=()=>o.connectionInfoData.active=!1),onBan:i.onApplyUserBan},null,8,["width","height","left","top","user-id","session-id","client-ip","browser","is-self","onBan"])):(0,e.Q3)("v-if",!0),t[5]||(t[5]=(0,e.eW)()),o.connectionInfoListData.active?((0,e.uX)(),(0,e.Wv)(m,{key:2,width:o.connectionInfoListData.width,height:o.connectionInfoListData.height,left:o.connectionInfoListData.left,top:o.connectionInfoListData.top,users:o.connectionInfoListData.users,onCancel:t[2]||(t[2]=()=>o.connectionInfoListData.active=!1),onBan:i.onApplyUserBan},null,8,["width","height","left","top","users","onBan"])):(0,e.Q3)("v-if",!0),t[6]||(t[6]=(0,e.eW)()),o.unlockUserData.active?((0,e.uX)(),(0,e.Wv)(O,{key:3,width:o.unlockUserData.width,height:o.unlockUserData.height,left:o.unlockUserData.left,top:o.unlockUserData.top,"user-id":o.unlockUserData.userId,"user-name":o.unlockUserData.userName,onCancel:t[3]||(t[3]=()=>o.unlockUserData.active=!1),onApply:i.onApplyUnlockUserWindow},null,8,["width","height","left","top","user-id","user-name","onApply"])):(0,e.Q3)("v-if",!0)],64)):(0,e.Q3)("v-if",!0)])}const w=["innerHTML"];function I(s,t,n,a,o,i){const _=(0,e.g2)("dropdown"),d=(0,e.g2)("window");return(0,e.uX)(),(0,e.Wv)(d,{class:"approval-req-window",messages:o.messages,"open-w":n.width,"open-h":n.height,"open-x":n.left,"open-y":n.top,onCancel:t[0]||(t[0]=()=>s.$emit("cancel")),onApply:i.onApplyUserGroup},{subject:(0,e.k6)(()=>[(0,e.eW)((0,e.v_)(i.i18n.approvedWait),1)]),default:(0,e.k6)(()=>[t[1]||(t[1]=(0,e.eW)()),(0,e.Lk)("div",{class:"message",innerHTML:i.replacedMessage},null,8,w),t[2]||(t[2]=(0,e.eW)()),(0,e.bF)(_,{normal:"",items:i.permissionItems,onOnchange:i.onSelectUserGroup},null,8,["items","onOnchange"])]),_:1,__:[1,2]},8,["messages","open-w","open-h","open-x","open-y","onApply"])}var W=r(67281),A=r(65267);const X={inject:["i18n"],components:{Window:W.A,Dropdown:A.A},props:{left:{type:Number,required:!0},top:{type:Number,required:!0},width:{type:Number,required:!0},height:{type:Number,required:!0},permissions:{type:Array,required:!0},userId:{type:String,required:!0},userName:{type:String,required:!0}},computed:{replacedMessage(){return this.i18n.M0691.split("%s").join(`<strong>${this.userName}</strong>`)},permissionItems(){return this.permissions.map(s=>({value:s.id,text:s.name}))}},data(){return{messages:{apply:this.i18n.approved,cancel:this.i18n.ignore},groupId:this.permissions[0].id}},methods:{onSelectUserGroup({value:s}){this.groupId=s},onApplyUserGroup(){this.$emit("apply",this.groupId)}}};var k=r(35339);const b=(0,k.A)(X,[["render",I],["__scopeId","data-v-9a9aa4b0"]]),C={class:"row"},F={class:"title"},Q={class:"text"},q={class:"row"},x={class:"title"},h={class:"text"},y={class:"row"},j={class:"title"},E={class:"text"},G={class:"row"},Y={class:"title"},V={class:"text"},z={class:"footer"};function B(s,t,n,a,o,i){const _=(0,e.g2)("btn"),d=(0,e.g2)("window");return(0,e.uX)(),(0,e.Wv)(d,{class:"connection-info-window","hide-footer":"","open-w":n.width,"open-h":n.height,"open-x":n.left,"open-y":n.top,"onUpdate:openX":t[1]||(t[1]=p=>s.$emit("update:left",p)),"onUpdate:openY":t[2]||(t[2]=p=>s.$emit("update:top",p)),onCancel:t[3]||(t[3]=()=>s.$emit("cancel"))},{subject:(0,e.k6)(()=>[(0,e.eW)((0,e.v_)(i.i18n.loginUsers),1)]),default:(0,e.k6)(()=>[t[8]||(t[8]=(0,e.eW)()),(0,e.Lk)("div",C,[(0,e.Lk)("div",F,(0,e.v_)(i.i18n.userId),1),t[4]||(t[4]=(0,e.eW)()),(0,e.Lk)("div",Q,[(0,e.Lk)("strong",null,(0,e.v_)(n.userId),1)])]),t[9]||(t[9]=(0,e.eW)()),(0,e.Lk)("div",q,[(0,e.Lk)("div",x,(0,e.v_)(i.i18n.sessionId),1),t[5]||(t[5]=(0,e.eW)()),(0,e.Lk)("div",h,(0,e.v_)(n.sessionId),1)]),t[10]||(t[10]=(0,e.eW)()),(0,e.Lk)("div",y,[(0,e.Lk)("div",j,(0,e.v_)(i.i18n.clientIp),1),t[6]||(t[6]=(0,e.eW)()),(0,e.Lk)("div",E,(0,e.v_)(n.clientIp),1)]),t[11]||(t[11]=(0,e.eW)()),(0,e.Lk)("div",G,[(0,e.Lk)("div",Y,(0,e.v_)(i.i18n.browser),1),t[7]||(t[7]=(0,e.eW)()),(0,e.Lk)("div",V,(0,e.v_)(n.browser),1)]),t[12]||(t[12]=(0,e.eW)()),(0,e.Lk)("div",z,[n.isSelf?(0,e.Q3)("v-if",!0):((0,e.uX)(),(0,e.Wv)(_,{key:0,normal:"",items:[{text:i.i18n.forcedQuit}],onClick:t[0]||(t[0]=()=>s.$emit("ban",n.sessionId))},null,8,["items"]))])]),_:1,__:[8,9,10,11,12]},8,["open-w","open-h","open-x","open-y"])}var T=r(35375);const ie={inject:["i18n"],components:{Btn:T.A,Window:W.A},emits:["update:left","update:top"],props:{left:{type:Number,required:!0},top:{type:Number,required:!0},width:{type:Number,required:!0},height:{type:Number,required:!0},userId:{type:String,required:!0},sessionId:{type:String,required:!0},clientIp:{type:String,required:!0},browser:{type:String,required:!0},isSelf:{type:Boolean,required:!0}}},ae=(0,k.A)(ie,[["render",B],["__scopeId","data-v-01d64aad"]]),ue=["title"],_e=["title"],pe=["title"],ce=["title"],me={class:"status"};function ve(s,t,n,a,o,i){const _=(0,e.g2)("btn"),d=(0,e.g2)("setting-table"),p=(0,e.g2)("window");return(0,e.uX)(),(0,e.Wv)(p,{class:"connection-info-list-window","hide-footer":"","open-w":n.width,"open-h":n.height,"open-x":n.left,"open-y":n.top,"onUpdate:openX":t[0]||(t[0]=u=>s.$emit("update:left",u)),"onUpdate:openY":t[1]||(t[1]=u=>s.$emit("update:top",u)),onCancel:t[2]||(t[2]=()=>s.$emit("cancel"))},{subject:(0,e.k6)(()=>[(0,e.eW)((0,e.v_)(i.i18n.loginUsers),1)]),default:(0,e.k6)(()=>[t[7]||(t[7]=(0,e.eW)()),(0,e.Lk)("div",{class:(0,e.C4)(["container",n.users.length>6?"scroll":""])},[(0,e.bF)(d,{"min-width":500,columns:o.columns,rows:n.users,checkable:!1,selectable:!1},{row:(0,e.k6)(({data:u,index:c})=>[(0,e.Lk)("td",{title:u.id},(0,e.v_)(u.id),9,ue),t[3]||(t[3]=(0,e.eW)()),(0,e.Lk)("td",{title:u.sessionId},(0,e.v_)(u.sessionId),9,_e),t[4]||(t[4]=(0,e.eW)()),(0,e.Lk)("td",{title:u.clientIp},(0,e.v_)(u.clientIp),9,pe),t[5]||(t[5]=(0,e.eW)()),(0,e.Lk)("td",{title:u.browser},(0,e.v_)(u.browser),9,ce),t[6]||(t[6]=(0,e.eW)()),(0,e.Lk)("td",me,[u.isSelf?(0,e.Q3)("v-if",!0):((0,e.uX)(),(0,e.Wv)(_,{key:0,small:"",items:[{text:i.i18n.forcedQuit}],onClick:m=>i.onClickForcedQuit(u.sessionId)},null,8,["items","onClick"]))])]),_:1},8,["columns","rows"])],2)]),_:1,__:[7]},8,["open-w","open-h","open-x","open-y"])}var ne=r(40317);const ge={inject:["i18n"],components:{Btn:T.A,Window:W.A,SettingTable:ne.A},emits:["update:left","update:top"],props:{left:{type:Number,required:!0},top:{type:Number,required:!0},width:{type:Number,required:!0},height:{type:Number,required:!0},users:{type:Array,required:!1}},data(){return{columns:[{field:"id",label:this.i18n.userId,sortable:!0},{field:"sessionId",label:this.i18n.sessionId,sortable:!0},{field:"clientIp",label:this.i18n.clientIp,sortable:!0},{field:"browser",label:this.i18n.browser,sortable:!0},{field:"status",label:"",sortable:!1}],scrollBarWidth:0}},methods:{onClickForcedQuit(s){this.$emit("ban",s)}}},he=(0,k.A)(ge,[["render",ve],["__scopeId","data-v-6c271daf"]]),fe=["innerHTML"];function ye(s,t,n,a,o,i){const _=(0,e.g2)("window");return(0,e.uX)(),(0,e.Wv)(_,{class:"unlock-user-window",messages:o.messages,"open-w":n.width,"open-h":n.height,"open-x":n.left,"open-y":n.top,"onUpdate:openX":t[0]||(t[0]=d=>s.$emit("update:left",d)),"onUpdate:openY":t[1]||(t[1]=d=>s.$emit("update:top",d)),onCancel:t[2]||(t[2]=()=>s.$emit("cancel")),onApply:i.onApplyUnlockingUser},{subject:(0,e.k6)(()=>[(0,e.eW)((0,e.v_)(i.i18n.approvedWait),1)]),default:(0,e.k6)(()=>[t[3]||(t[3]=(0,e.eW)()),(0,e.Lk)("div",{class:"message",innerHTML:i.replacedMessage},null,8,fe)]),_:1,__:[3]},8,["messages","open-w","open-h","open-x","open-y","onApply"])}const ke={inject:["i18n"],props:{left:{type:Number,required:!0},top:{type:Number,required:!0},width:{type:Number,required:!0},height:{type:Number,required:!0},userId:{type:String,required:!0},userName:{type:String,required:!0}},emits:["update:left","update:top"],components:{Window:W.A},computed:{replacedMessage(){return this.i18n.M0692.split("%s").join(`<strong>${this.userName}</strong>`)}},data(){return{messages:{apply:this.i18n.unlocking,cancel:this.i18n.ignore}}},methods:{onApplyUnlockingUser(){this.$emit("apply",this.userId)}}},be=(0,k.A)(ke,[["render",ye],["__scopeId","data-v-69469828"]]),we={class:"app index-page"},Ce={class:"title"},Pe={class:"row"},Le={class:"left"},Ue={class:"right"},Ie={class:"row"},We={class:"left"},Ae={class:"right"},De={class:"row vertical"},Me={class:"top"},Se={class:"bottom"},Fe={class:"row vertical"},Te={class:"top"},Re={class:"bottom"};function Ee(s,t,n,a,o,i){const _=(0,e.g2)("policy-form"),d=(0,e.g2)("btn"),p=(0,e.g2)("permissions"),u=(0,e.g2)("users");return(0,e.uX)(),(0,e.CE)("div",we,[(0,e.Lk)("div",Ce,(0,e.v_)(i.i18n.title),1),t[15]||(t[15]=(0,e.eW)()),(0,e.Lk)("div",Pe,[(0,e.Lk)("div",Le,(0,e.v_)(i.i18n.loginPolicy),1),t[7]||(t[7]=(0,e.eW)()),(0,e.Lk)("div",Ue,[o.foldStatus.loginPolicy?((0,e.uX)(),(0,e.Wv)(_,{key:0,"is-login-policy":!0,onFold:t[0]||(t[0]=c=>o.foldStatus.loginPolicy=!1)})):(0,e.Q3)("v-if",!0)]),t[8]||(t[8]=(0,e.eW)()),(0,e.bF)(d,{normal:"",class:"border-none",items:[{iconType:o.iconTypes[o.foldStatus.loginPolicy?"open":"fold"]}],onClick:t[1]||(t[1]=c=>i.onTogglePolicyComponents("login"))},null,8,["items"])]),t[16]||(t[16]=(0,e.eW)()),(0,e.Lk)("div",Ie,[(0,e.Lk)("div",We,(0,e.v_)(i.i18n.passwordPolicy),1),t[9]||(t[9]=(0,e.eW)()),(0,e.Lk)("div",Ae,[o.foldStatus.passwordPolicy?((0,e.uX)(),(0,e.Wv)(_,{key:0,"is-login-policy":!1,onFold:t[2]||(t[2]=c=>o.foldStatus.passwordPolicy=!1)})):(0,e.Q3)("v-if",!0)]),t[10]||(t[10]=(0,e.eW)()),(0,e.bF)(d,{normal:"",class:"border-none",items:[{iconType:o.iconTypes[o.foldStatus.passwordPolicy?"open":"fold"]}],onClick:t[3]||(t[3]=c=>i.onTogglePolicyComponents("password"))},null,8,["items"])]),t[17]||(t[17]=(0,e.eW)()),(0,e.Lk)("div",De,[(0,e.Lk)("div",Me,(0,e.v_)(i.i18n.permissions),1),t[11]||(t[11]=(0,e.eW)()),(0,e.Lk)("div",Se,[(0,e.bF)(p)]),t[12]||(t[12]=(0,e.eW)()),(0,e.bF)(d,{normal:"","icon-first":"",items:[{iconType:o.iconTypes.add,text:i.i18n.addPermission}],onClick:i.onClickAddPermission},null,8,["items","onClick"])]),t[18]||(t[18]=(0,e.eW)()),(0,e.Lk)("div",Fe,[(0,e.Lk)("div",Te,(0,e.v_)(i.i18n.user),1),t[13]||(t[13]=(0,e.eW)()),(0,e.Lk)("div",Re,[(0,e.bF)(u,{onShowWaitedUser:t[4]||(t[4]=c=>s.$emit("show-waited-user",c)),onShowLockedUser:t[5]||(t[5]=c=>s.$emit("show-locked-user",c)),onShowConnectingUsers:t[6]||(t[6]=c=>s.$emit("show-connecting-users",c))})]),t[14]||(t[14]=(0,e.eW)()),(0,e.bF)(d,{normal:"","icon-first":"",items:[{iconType:o.iconTypes.add,text:i.i18n.addUser}],onClick:i.onClickAddUser},null,8,["items","onClick"])])])}const Be={class:"policy-form"},Xe={class:"form"},je={class:"row"},Ne={class:"row sub"},Oe={class:"row sub"},xe={class:"form"},Ge={class:"row"},Qe={class:"form last"},ze={class:"row"},Ke={class:"row sub message"},qe={class:"row sub"},Ve={class:"label"},He={class:"form last"},Ye={class:"row",style:{"margin-bottom":"18px"}},Je={class:"row",style:{"margin-bottom":"16px"}},Ze={class:"col"},$e={class:"title"},et={class:"input"},tt={class:"col"},st={class:"title"},it={class:"input"},ot={class:"col"},nt={class:"title"},lt={class:"input"},rt={class:"col"},dt={class:"title"},at={class:"input"},ut={class:"col"},_t={class:"title"},pt={class:"input"},ct={class:"col"},mt={class:"title"},vt={class:"input"},gt={key:0,class:"form last"},ht={class:"row sub"},ft={class:"row sub message"},yt={class:"row sub"},kt={class:"col"},bt={class:"input"},wt={class:"col"},Ct={class:"input"},Pt={class:"footer"};function Lt(s,t,n,a,o,i){const _=(0,e.g2)("checkbox"),d=(0,e.g2)("format-number-input"),p=(0,e.g2)("radio"),u=(0,e.g2)("btn"),c=(0,e.g2)("alert-window");return(0,e.uX)(),(0,e.CE)("div",Be,[n.isLoginPolicy?((0,e.uX)(),(0,e.CE)(e.FK,{key:0},[(0,e.Lk)("div",Xe,[(0,e.Lk)("div",je,[(0,e.bF)(_,{label:i.i18n.sessionLimitCount,active:s.loginPolicy.totalSessionCount>0,disabled:""},null,8,["label","active"])]),t[13]||(t[13]=(0,e.eW)()),(0,e.Lk)("div",Ne,(0,e.v_)(i.i18n.M0687),1),t[14]||(t[14]=(0,e.eW)()),(0,e.Lk)("div",Oe,[(0,e.bF)(d,{width:80,value:s.loginPolicy.totalSessionCount,"onUpdate:value":t[0]||(t[0]=m=>s.loginPolicy.totalSessionCount=m)},null,8,["value"]),(0,e.eW)(" "+(0,e.v_)(i.i18n.unitPerson),1)])]),t[18]||(t[18]=(0,e.eW)()),(0,e.Lk)("div",xe,[(0,e.Lk)("div",Ge,[(0,e.bF)(_,{label:i.i18n.preventDuplicateLogin,active:!s.loginPolicy.duplicatedLogin,onChange:i.onChangeDuplicatedLogin},null,8,["label","active","onChange"])])]),t[19]||(t[19]=(0,e.eW)()),(0,e.Lk)("div",Qe,[(0,e.Lk)("div",ze,[(0,e.bF)(_,{label:i.i18n.M0688,active:s.loginPolicy.signLockCount>0,disabled:""},null,8,["label","active"])]),t[16]||(t[16]=(0,e.eW)()),(0,e.Lk)("div",Ke,(0,e.v_)(i.i18n.M0689),1),t[17]||(t[17]=(0,e.eW)()),(0,e.Lk)("div",qe,[(0,e.Lk)("div",Ve,(0,e.v_)(i.i18n.referenceValue),1),t[15]||(t[15]=(0,e.eW)()),(0,e.bF)(d,{width:80,min:0,max:100,value:s.loginPolicy.signLockCount,"onUpdate:value":t[1]||(t[1]=m=>s.loginPolicy.signLockCount=m)},null,8,["value"]),(0,e.eW)(" "+(0,e.v_)(i.i18n.unitCase),1)])])],64)):((0,e.uX)(),(0,e.CE)(e.FK,{key:1},[(0,e.Lk)("div",He,[(0,e.Lk)("div",Ye,[(0,e.bF)(p,{label:i.i18n.defaultValue,active:!s.passwordPolicy.enablePasswordPolicy,onChange:t[2]||(t[2]=m=>s.changeEnablePasswordPolicy(!1))},null,8,["label","active"])]),t[31]||(t[31]=(0,e.eW)()),(0,e.Lk)("div",Je,[(0,e.bF)(p,{label:i.i18n.customize,active:s.passwordPolicy.enablePasswordPolicy,onChange:t[3]||(t[3]=m=>s.changeEnablePasswordPolicy(!0))},null,8,["label","active"])]),t[32]||(t[32]=(0,e.eW)()),(0,e.Lk)("div",{class:(0,e.C4)(["row sub",{separator:!i.jenniferK8s}])},[(0,e.Lk)("div",Ze,[(0,e.Lk)("div",$e,(0,e.v_)(i.i18n.minLength),1),t[20]||(t[20]=(0,e.eW)()),(0,e.Lk)("div",et,[(0,e.bF)(d,{width:120,min:4,max:100,disabled:!s.passwordPolicy.enablePasswordPolicy,value:s.passwordPolicy.passwordLength,"onUpdate:value":t[4]||(t[4]=m=>s.passwordPolicy.passwordLength=m)},null,8,["disabled","value"])])]),t[26]||(t[26]=(0,e.eW)()),(0,e.Lk)("div",tt,[(0,e.Lk)("div",st,(0,e.v_)(i.i18n.minUppercase),1),t[21]||(t[21]=(0,e.eW)()),(0,e.Lk)("div",it,[(0,e.bF)(d,{width:120,min:0,max:100,disabled:!s.passwordPolicy.enablePasswordPolicy,value:s.passwordPolicy.minUppercase,"onUpdate:value":t[5]||(t[5]=m=>s.passwordPolicy.minUppercase=m)},null,8,["disabled","value"])])]),t[27]||(t[27]=(0,e.eW)()),(0,e.Lk)("div",ot,[(0,e.Lk)("div",nt,(0,e.v_)(i.i18n.minLowercase),1),t[22]||(t[22]=(0,e.eW)()),(0,e.Lk)("div",lt,[(0,e.bF)(d,{width:120,min:0,max:100,disabled:!s.passwordPolicy.enablePasswordPolicy,value:s.passwordPolicy.minLowercase,"onUpdate:value":t[6]||(t[6]=m=>s.passwordPolicy.minLowercase=m)},null,8,["disabled","value"])])]),t[28]||(t[28]=(0,e.eW)()),(0,e.Lk)("div",rt,[(0,e.Lk)("div",dt,(0,e.v_)(i.i18n.minDigit),1),t[23]||(t[23]=(0,e.eW)()),(0,e.Lk)("div",at,[(0,e.bF)(d,{width:120,min:0,max:100,disabled:!s.passwordPolicy.enablePasswordPolicy,value:s.passwordPolicy.minDigit,"onUpdate:value":t[7]||(t[7]=m=>s.passwordPolicy.minDigit=m)},null,8,["disabled","value"])])]),t[29]||(t[29]=(0,e.eW)()),(0,e.Lk)("div",ut,[(0,e.Lk)("div",_t,(0,e.v_)(i.i18n.minSpecial),1),t[24]||(t[24]=(0,e.eW)()),(0,e.Lk)("div",pt,[(0,e.bF)(d,{width:120,min:0,max:100,disabled:!s.passwordPolicy.enablePasswordPolicy,value:s.passwordPolicy.minSpecial,"onUpdate:value":t[8]||(t[8]=m=>s.passwordPolicy.minSpecial=m)},null,8,["disabled","value"])])]),t[30]||(t[30]=(0,e.eW)()),(0,e.Lk)("div",ct,[(0,e.Lk)("div",mt,(0,e.v_)(i.i18n.minSameCount),1),t[25]||(t[25]=(0,e.eW)()),(0,e.Lk)("div",vt,[(0,e.bF)(d,{width:120,min:2,max:100,disabled:!s.passwordPolicy.enablePasswordPolicy,value:s.passwordPolicy.minSameCount,"onUpdate:value":t[9]||(t[9]=m=>s.passwordPolicy.minSameCount=m)},null,8,["disabled","value"])])])],2)]),t[36]||(t[36]=(0,e.eW)()),i.jenniferK8s?(0,e.Q3)("v-if",!0):((0,e.uX)(),(0,e.CE)("div",gt,[(0,e.Lk)("div",ht,[(0,e.Lk)("span",null,(0,e.v_)(i.i18n.changingPeriod),1)]),t[34]||(t[34]=(0,e.eW)()),(0,e.Lk)("div",ft,(0,e.v_)(i.i18n.M0690),1),t[35]||(t[35]=(0,e.eW)()),(0,e.Lk)("div",yt,[(0,e.Lk)("div",kt,[(0,e.Lk)("div",bt,[(0,e.bF)(d,{width:80,min:30,max:365,disabled:!s.passwordPolicy.enablePasswordPolicy,value:s.passwordPolicy.changingDate,"onUpdate:value":t[10]||(t[10]=m=>s.passwordPolicy.changingDate=m)},null,8,["disabled","value"]),(0,e.eW)(" "+(0,e.v_)(i.i18n.unitDay),1)])]),t[33]||(t[33]=(0,e.eW)()),(0,e.Lk)("div",wt,[(0,e.Lk)("div",Ct,[(0,e.bF)(_,{label:i.i18n.delayPeriod,disabled:!s.passwordPolicy.enablePasswordPolicy,active:s.passwordPolicy.delayPeriod,"onUpdate:active":t[11]||(t[11]=m=>s.passwordPolicy.delayPeriod=m)},null,8,["label","disabled","active"])])])])]))],64)),t[38]||(t[38]=(0,e.eW)()),(0,e.Lk)("div",Pt,[(0,e.bF)(u,{normal:"",class:"border-none",items:[{text:i.i18n.cancel}],onClick:i.onClickCancelBtn},null,8,["items","onClick"]),t[37]||(t[37]=(0,e.eW)()),(0,e.bF)(u,{normal:"",class:"primary",items:[{text:i.i18n.saveChanges}],loading:o.saveLoading,onClick:i.onClickSaveBtn},null,8,["items","loading","onClick"])]),t[39]||(t[39]=(0,e.eW)()),o.alertMessage!==""?((0,e.uX)(),(0,e.Wv)(c,{key:2,message:o.alertMessage,onCancel:t[12]||(t[12]=()=>o.alertMessage="")},null,8,["message"])):(0,e.Q3)("v-if",!0)])}var Ut=r(73310),Z=r(88994),It=r(97953),J=r(90194),Wt=r(33152),le=r(97116);const At={screenMode:"list",users:[],permissions:[],permissionMenus:[],permissionDomains:[],selectedUser:null,selectedPermission:null,loginPolicy:{totalSessionCount:0,signLockCount:2,duplicatedLogin:!0},passwordPolicy:{enablePasswordPolicy:!1,delayPeriod:!1,passwordLength:4,minUppercase:0,minLowercase:0,minDigit:0,minSpecial:0,minSameCount:0,changingDate:60,signLockCount:2}};var $=r(27664);const Dt={classic:["#cce4f9","#cce7e1","#d7d7d5","#fddfcc","#f8cce6"],dark:["#4986E7","#2da2bb","#5e5e5e","#e57128","#be4d90"]},Mt={updateUsers(s,t){const n={};s.permissions.forEach(a=>{n[a.id]=a}),s.users=t.map(a=>{const o=n[a.groupId]??{};return{...a,lastDtFormat:a.lastDt!==""?(0,$.qm)(parseInt(a.lastDt)).format($.fp.longWithSec):"",groupName:o.name?o.name:o.id,groupColor:o.color}})},updatePermissions(s,t){s.permissions=t.map((n,a)=>{const o=Dt[$.gi.theme];return{...n,color:o[a%o.length]}})},updatePermissionMenus(s,t){s.permissionMenus=t},updatePermissionDomains(s,t){s.permissionDomains=JSON.parse(t).domainAllInstance.data},selectUser(s,t){s.selectedUser=t},selectPermission(s,t){s.selectedPermission=t},updateLoginPolicy(s,t){s.loginPolicy=t},updatePasswordPolicy(s,t){s.passwordPolicy=t},changeEnablePasswordPolicy(s,t){s.passwordPolicy={...s.passwordPolicy,enablePasswordPolicy:t}},changeScreenMode(s,{mode:t,data:n}){t==="modify-user"?s.selectedUser=n:t==="modify-permission"&&(s.selectedPermission=n),s.screenMode=t}};var M=r(21005),l=r(6373);const ee={params:{format:"json"}},St={async loadUsers({commit:s}){const t={};(await M.A.get("/login/list",ee)).data.forEach(i=>{t[i.id]||(t[i.id]=[]),t[i.id].push(i)});const{data:a}=await M.A.get("/user/list",ee),o=a.map(i=>({...i,loginData:t[i.id]||[]}));s("updateUsers",o)},async addUser({dispatch:s},t){const n=t.token??"",a={...t};delete a.token;const o=await M.A.post("/user/save",(0,l.$W)(a),{headers:{"X-CSRF-Token":n}});return s("loadUsers"),o},async updateUser({dispatch:s},t){const n=t.token??"",a={...t};delete a.loginData,delete a.token;const o=await M.A.post("/user/modify/admin",(0,l.$W)(a),{headers:{"X-CSRF-Token":n}});return s("loadUsers"),o},async deleteUser({dispatch:s},t){const n=await M.A.post("/user/remove",(0,l.$W)({id:t}));return s("loadUsers"),n},async banUser({dispatch:s},t){const n=await M.A.post("/login/ban",(0,l.$W)({session:t,format:"json"}));return s("loadUsers"),n},async loadPermissions({commit:s}){const{data:t}=await M.A.get("/group/list",ee);s("updatePermissions",t)},async deletePermission({dispatch:s},t){const n=await M.A.post("/group/remove",(0,l.$W)({key:t}));return s("loadPermissions"),n},async loadPermissionMenus({commit:s}){const{data:t}=await M.A.get("/menu/list/all"),n=await M.A.get("/menu/accessbleList",{params:{type:"management"}});s("updatePermissionMenus",[...t,...n.data])},async loadPermissionDomains({commit:s}){const{data:t}=await M.A.get("/domain/allInstance",{params:{format:"json"},headers:{"Content-Type":"application/json; charset=utf-8"}});s("updatePermissionDomains",t)},async savePermission({dispatch:s},t){const n=t.token??"",a={...t};delete a.token;const o=await M.A.post("/group/save/v2",(0,l.$W)(a),{headers:{"X-CSRF-Token":n}});return s("loadPermissions"),o},async loadLoginPolicy({commit:s}){const{data:t}=await M.A.get("/user/loginuser/policy/get");s("updateLoginPolicy",t)},async loadPasswordPolicy({commit:s}){const{data:t}=await M.A.get("/user/password/policy/get");s("updatePasswordPolicy",t)},async saveLoginPolicy({},s){return await M.A.post("/user/loginuser/policy/save",(0,l.$W)({...s,isDuplicatedLogin:s.duplicatedLogin}))},async savePasswordPolicy({},s){return await M.A.post("/user/password/policy/save",(0,l.$W)(s))},async loadAccessibleMenuItems({},s){return await M.A.get("/menu/accessbleList/all/user",{params:{userId:s}})}},te="usersAndPermissions",{mapState:K,mapMutations:N,mapActions:H}=(0,Wt.$t)(te);le.A.hasModule(te)||le.A.registerModule(te,{namespaced:!0,state:At,mutations:Mt,actions:St});const Ft={inject:["i18n","jenniferK8s"],emits:["fold"],props:{isLoginPolicy:{type:Boolean,required:!0}},components:{AlertWindow:J.A,Btn:T.A,Radio:Ut.A,Checkbox:Z.A,FormatNumberInput:It.A},computed:{...K({loginPolicy:s=>s.loginPolicy,passwordPolicy:s=>s.passwordPolicy})},data(){return{saveLoading:!1,alertMessage:""}},methods:{...N(["changeEnablePasswordPolicy","updateLoginPolicy"]),...H(["loadLoginPolicy","loadPasswordPolicy","saveLoginPolicy","savePasswordPolicy"]),loadPolicyData(){this.isLoginPolicy?this.loadLoginPolicy():this.loadPasswordPolicy()},onClickCancelBtn(){this.$emit("fold")},async onClickSaveBtn(){this.saveLoading=!0,setTimeout(()=>{this.isLoginPolicy?this.saveLoginPolicy(this.loginPolicy):this.savePasswordPolicy(this.passwordPolicy).then(s=>{s.data==="M0113"&&(this.alertMessage=this.i18n[data].split("%d").join(this.passwordPolicy.passwordLength))}),this.saveLoading=!1},500)},onChangeDuplicatedLogin(s){this.updateLoginPolicy({...this.loginPolicy,duplicatedLogin:!s})}},created(){this.loadPolicyData()}},Tt=(0,k.A)(Ft,[["render",Lt],["__scopeId","data-v-a7e93f60"]]),Rt={class:"permissions"},Et=["onClick"],Bt={class:"right"},Xt={class:"subject"},jt={class:"description"};function Nt(s,t,n,a,o,i){const _=(0,e.g2)("svg-icon");return(0,e.uX)(),(0,e.CE)("div",Rt,[((0,e.uX)(!0),(0,e.CE)(e.FK,null,(0,e.pI)(s.permissions,d=>((0,e.uX)(),(0,e.CE)("div",{class:"permission",onClick:p=>i.onClickPermission(d)},[(0,e.Lk)("div",{class:"left",style:(0,e.Tr)({"background-color":d.color})},[(0,e.bF)(_,{icon:o.iconType,width:o.iconSize,height:o.iconSize},null,8,["icon","width","height"])],4),t[1]||(t[1]=(0,e.eW)()),(0,e.Lk)("div",Bt,[(0,e.Lk)("div",Xt,(0,e.v_)(d.id),1),t[0]||(t[0]=(0,e.eW)()),(0,e.Lk)("div",jt,(0,e.v_)(d.name),1)])],8,Et))),256))])}var S=r(79526);const Ot={inject:["i18n"],components:{SvgIcon:S.Ah},computed:{...K({permissions:s=>s.permissions})},data(){return{iconType:S.B2.lock,iconSize:24}},methods:{...N(["changeScreenMode"]),onClickPermission(s){this.changeScreenMode({mode:"modify-permission",data:s})}}},xt=(0,k.A)(Ot,[["render",Nt],["__scopeId","data-v-23ac91d4"]]),Gt={class:"users"},Qt={class:"user"},zt={class:"status"},Kt=["onClick"],qt=["onClick"];function Vt(s,t,n,a,o,i){const _=(0,e.g2)("svg-icon"),d=(0,e.g2)("tooltip"),p=(0,e.g2)("chip"),u=(0,e.g2)("btn"),c=(0,e.g2)("setting-table"),m=(0,e.g2)("confirm-window"),O=(0,e.g2)("alert-window");return(0,e.uX)(),(0,e.CE)("div",Gt,[(0,e.bF)(c,{columns:o.columns,rows:s.users,"more-menus":o.moreMenus,checkable:!1,selectable:!0,"menu-width":120,onMoreMenu:i.onClickMoreMenu,onSelect:i.onClickRow},{row:(0,e.k6)(({data:U})=>[(0,e.Lk)("td",null,(0,e.v_)(U.lastDtFormat),1),t[2]||(t[2]=(0,e.eW)()),(0,e.Lk)("td",Qt,[(0,e.bF)(d,{position:"center-right",message:i.i18n.T0038},{default:(0,e.k6)(()=>[U.adapterMode?((0,e.uX)(),(0,e.Wv)(_,{key:0,icon:o.iconTypes.caution,width:16,height:16},null,8,["icon"])):(0,e.Q3)("v-if",!0)]),_:2},1032,["message"]),(0,e.eW)(" "+(0,e.v_)(U.id),1)]),t[3]||(t[3]=(0,e.eW)()),(0,e.Lk)("td",null,(0,e.v_)(U.name),1),t[4]||(t[4]=(0,e.eW)()),(0,e.Lk)("td",null,[U.groupName!==void 0?((0,e.uX)(),(0,e.Wv)(p,{key:0,value:U.groupName,"background-color":U.groupColor},null,8,["value","background-color"])):(0,e.Q3)("v-if",!0)]),t[5]||(t[5]=(0,e.eW)()),(0,e.Lk)("td",zt,[U.groupName===void 0?((0,e.uX)(),(0,e.CE)("span",{key:0,class:"btn",onClick:(0,e.D$)(P=>i.onClickWaitedUser(U),["prevent"])},(0,e.v_)(i.i18n.approvedWait),9,Kt)):U.loginLock?((0,e.uX)(),(0,e.Wv)(u,{key:1,small:"",class:"border-none",items:[{iconType:o.iconTypes.lock}],onClick:P=>i.onClickLockedUser(U)},null,8,["items","onClick"])):U.loginData.length>0?((0,e.uX)(),(0,e.CE)("span",{key:2,class:"connecting btn",onClick:(0,e.D$)(P=>i.onClickConnectingUser(U),["prevent"])},(0,e.v_)(i.i18n.connecting),9,qt)):(0,e.Q3)("v-if",!0)])]),_:1},8,["columns","rows","more-menus","onMoreMenu","onSelect"]),t[6]||(t[6]=(0,e.eW)()),o.deleteUserData.active?((0,e.uX)(),(0,e.Wv)(m,{key:0,message:i.i18n.M0270,onCancel:t[0]||(t[0]=()=>o.deleteUserData.active=!1),onApply:i.onApplyDeleteUserWindow},null,8,["message","onApply"])):(0,e.Q3)("v-if",!0),t[7]||(t[7]=(0,e.eW)()),o.alertMessage!==""?((0,e.uX)(),(0,e.Wv)(O,{key:1,message:o.alertMessage,onCancel:t[1]||(t[1]=()=>o.alertMessage="")},null,8,["message"])):(0,e.Q3)("v-if",!0)])}var se=r(10935),Ht=r(80593),Yt=r(8355);const Jt={inject:["i18n"],components:{SvgIcon:S.Ah,Tooltip:Yt.A,ConfirmWindow:se.A,AlertWindow:J.A,Btn:T.A,Chip:Ht.A,SettingTable:ne.A},computed:{...K({users:s=>s.users,permissions:s=>s.permissions,selectedUser:s=>s.selectedUser})},data(){return{columns:[{field:"lastDt",label:this.i18n.lastLoginTime,sortable:!0},{field:"id",label:this.i18n.userId,sortable:!0},{field:"name",label:this.i18n.userName,sortable:!0},{field:"groupId",label:this.i18n.permissions,sortable:!0},{field:"status",label:this.i18n.status,sortable:!1}],moreMenus:[{text:this.i18n.modify,value:"modify"},{text:this.i18n.delete,value:"delete"}],iconTypes:{lock:S.B2.lock,caution:S.B2.caution3},deleteUserData:{active:!1,userId:""},alertMessage:""}},methods:{...N(["changeScreenMode","selectUser"]),...H(["updateUser","deleteUser","banUser"]),onClickMoreMenu(s,t){t.value==="delete"?(this.deleteUserData.active=!0,this.deleteUserData.userId=s.id,this.selectUser(s)):t.value==="modify"&&this.onClickRow(s)},onClickRow(s){this.changeScreenMode({mode:"modify-user",data:s}),this.selectUser(s)},onClickWaitedUser(s){this.$emit("show-waited-user",{userName:s.name,userId:s.id}),this.selectUser(s)},onClickLockedUser(s){this.$emit("show-locked-user",{userName:s.name,userId:s.id}),this.selectUser(s)},onClickConnectingUser(s){this.$emit("show-connecting-users",s.loginData),this.selectUser(s)},async onApplyDeleteUserWindow(){const{loginData:s}=this.selectedUser;if(s&&s.isSelf)this.alertMessage=this.i18n.M0078;else{const{data:t}=await this.deleteUser(this.deleteUserData.userId);t!==""&&(this.alertMessage=this.i18n[t])}this.deleteUserData.active=!1}}},Zt=(0,k.A)(Jt,[["render",Vt],["__scopeId","data-v-f28e599c"]]),$t={inject:["i18n"],components:{Btn:T.A,PolicyForm:Tt,Permissions:xt,Users:Zt},data(){return{iconTypes:{open:S.B2.arrowUp,fold:S.B2.arrowDown,add:S.B2.add},foldStatus:{loginPolicy:!1,passwordPolicy:!1}}},methods:{...N(["changeScreenMode"]),onTogglePolicyComponents(s){const t=`${s}Policy`;this.foldStatus[t]=!this.foldStatus[t]},onClickAddUser(){this.changeScreenMode({mode:"add-user"})},onClickAddPermission(){this.changeScreenMode({mode:"add-permission"})}}},es=(0,k.A)($t,[["render",Ee],["__scopeId","data-v-bc96f736"]]),ts={class:"app user-detail"},ss={key:0,class:"title"},is={key:1,class:"title"},os={class:"row"},ns={class:"left"},ls={class:"right"},rs={class:"form"},ds={class:"subject"},as={class:"input"},us={class:"form"},_s={class:"subject"},ps={class:"input"},cs={class:"form"},ms={class:"subject"},vs={class:"input"},gs={class:"form-group"},hs={class:"form"},fs={class:"subject"},ys={class:"input"},ks={class:"form"},bs={class:"subject"},ws={class:"input"},Cs={class:"form"},Ps={class:"subject"},Ls={class:"input"},Us={class:"form"},Is={class:"subject"},Ws={class:"input"},As={key:2,class:"row"},Ds={class:"left"},Ms={class:"right"},Ss={class:"message"},Fs={key:3,class:"row"},Ts={class:"left"},Rs={class:"right expand"},Es={class:"message",style:{"margin-top":"16px"}},Bs={class:"row"},Xs={class:"left"},js={class:"right"},Ns={class:"form"},Os={class:"subject"},xs={class:"input"},Gs={class:"form"},Qs={class:"subject"},zs={class:"input"},Ks={class:"row"},qs={class:"left"},Vs={class:"right expand"},Hs={class:"message"},Ys={class:"footer"};function Js(s,t,n,a,o,i){const _=(0,e.g2)("back-button"),d=(0,e.g2)("btn"),p=(0,e.g2)("input-field"),u=(0,e.g2)("alert"),c=(0,e.g2)("dropdown"),m=(0,e.g2)("ip-setting"),O=(0,e.g2)("confirm-window"),U=(0,e.g2)("alert-window");return(0,e.uX)(),(0,e.CE)("div",ts,[n.isNew?((0,e.uX)(),(0,e.CE)("div",ss,(0,e.v_)(i.i18n.addUser),1)):((0,e.uX)(),(0,e.CE)("div",is,[(0,e.bF)(_,{subject:s.selectedUser.name},null,8,["subject"]),t[14]||(t[14]=(0,e.eW)()),!i.isSelf&&s.selectedUser.loginData.length>0?((0,e.uX)(),(0,e.CE)("span",{key:0,onClick:t[0]||(t[0]=(...P)=>i.onClickConnectingUsers&&i.onClickConnectingUsers(...P))},(0,e.v_)(i.i18n.connecting),1)):(0,e.Q3)("v-if",!0),t[15]||(t[15]=(0,e.eW)()),i.isSelf?(0,e.Q3)("v-if",!0):((0,e.uX)(),(0,e.Wv)(d,{key:1,normal:"",class:"border-none",items:[{iconType:o.iconTypes.delete}],onClick:t[1]||(t[1]=()=>o.activeConfirm=!0)},null,8,["items"]))])),t[44]||(t[44]=(0,e.eW)()),(0,e.Lk)("div",os,[(0,e.Lk)("div",ns,(0,e.v_)(i.i18n.editProfile),1),t[33]||(t[33]=(0,e.eW)()),(0,e.Lk)("div",ls,[(0,e.Lk)("div",rs,[(0,e.Lk)("div",ds,(0,e.v_)(i.i18n.userId),1),t[20]||(t[20]=(0,e.eW)()),(0,e.Lk)("div",as,[(0,e.bF)(p,{normal:"",disabled:!n.isNew,placeholder:i.i18n.requiredFields,validator:i.validatorUserId,value:o.userForm.id,"onUpdate:value":t[2]||(t[2]=P=>o.userForm.id=P)},null,8,["disabled","placeholder","validator","value"]),t[18]||(t[18]=(0,e.eW)()),!n.isNew&&s.selectedUser.loginLock?((0,e.uX)(),(0,e.CE)(e.FK,{key:0},[(0,e.bF)(u,{type:"danger",icon:o.iconTypes.lock,message:i.i18n.M0693},null,8,["icon","message"]),t[16]||(t[16]=(0,e.eW)()),(0,e.bF)(d,{normal:"",items:[{text:i.i18n.unlocking}],onClick:i.onClickLockedUser},null,8,["items","onClick"])],64)):(0,e.Q3)("v-if",!0),t[19]||(t[19]=(0,e.eW)()),!n.isNew&&s.selectedUser.groupId===""?((0,e.uX)(),(0,e.CE)(e.FK,{key:1},[(0,e.bF)(u,{type:"success",message:i.i18n.M0694},null,8,["message"]),t[17]||(t[17]=(0,e.eW)()),(0,e.bF)(d,{normal:"",class:"approved",items:[{text:i.i18n.approved}],onClick:i.onClickWaitedUser},null,8,["items","onClick"])],64)):(0,e.Q3)("v-if",!0)])]),t[28]||(t[28]=(0,e.eW)()),(0,e.Lk)("div",us,[(0,e.Lk)("div",_s,(0,e.v_)(i.i18n.userName),1),t[21]||(t[21]=(0,e.eW)()),(0,e.Lk)("div",ps,[(0,e.bF)(p,{normal:"",disabled:o.userForm.adapterMode,placeholder:i.i18n.requiredFields,validator:i.validatorUserName,value:o.userForm.name,"onUpdate:value":t[3]||(t[3]=P=>o.userForm.name=P)},null,8,["disabled","placeholder","validator","value"])])]),t[29]||(t[29]=(0,e.eW)()),(0,e.Lk)("div",cs,[(0,e.Lk)("div",ms,(0,e.v_)(i.i18n.company),1),t[22]||(t[22]=(0,e.eW)()),(0,e.Lk)("div",vs,[(0,e.bF)(p,{normal:"",disabled:o.userForm.adapterMode,value:o.userForm.company,"onUpdate:value":t[4]||(t[4]=P=>o.userForm.company=P)},null,8,["disabled","value"])])]),t[30]||(t[30]=(0,e.eW)()),(0,e.Lk)("div",gs,[(0,e.Lk)("div",hs,[(0,e.Lk)("div",fs,(0,e.v_)(i.i18n.dept),1),t[23]||(t[23]=(0,e.eW)()),(0,e.Lk)("div",ys,[(0,e.bF)(p,{normal:"",disabled:o.userForm.adapterMode,value:o.userForm.dept,"onUpdate:value":t[5]||(t[5]=P=>o.userForm.dept=P)},null,8,["disabled","value"])])]),t[25]||(t[25]=(0,e.eW)()),(0,e.Lk)("div",ks,[(0,e.Lk)("div",bs,(0,e.v_)(i.i18n.jobTitle),1),t[24]||(t[24]=(0,e.eW)()),(0,e.Lk)("div",ws,[(0,e.bF)(p,{normal:"",disabled:o.userForm.adapterMode,value:o.userForm.jobTitle,"onUpdate:value":t[6]||(t[6]=P=>o.userForm.jobTitle=P)},null,8,["disabled","value"])])])]),t[31]||(t[31]=(0,e.eW)()),(0,e.Lk)("div",Cs,[(0,e.Lk)("div",Ps,(0,e.v_)(i.i18n.cellphone),1),t[26]||(t[26]=(0,e.eW)()),(0,e.Lk)("div",Ls,[(0,e.bF)(p,{normal:"",disabled:o.userForm.adapterMode,validator:i.validatorCellphone,value:o.userForm.cellphone,"onUpdate:value":t[7]||(t[7]=P=>o.userForm.cellphone=P)},null,8,["disabled","validator","value"])])]),t[32]||(t[32]=(0,e.eW)()),(0,e.Lk)("div",Us,[(0,e.Lk)("div",Is,(0,e.v_)(i.i18n.email),1),t[27]||(t[27]=(0,e.eW)()),(0,e.Lk)("div",Ws,[(0,e.bF)(p,{normal:"",disabled:o.userForm.adapterMode,validator:i.validatorEmail,value:o.userForm.email,"onUpdate:value":t[8]||(t[8]=P=>o.userForm.email=P)},null,8,["disabled","validator","value"])])])])]),t[45]||(t[45]=(0,e.eW)()),n.isNew?((0,e.uX)(),(0,e.CE)("div",As,[(0,e.Lk)("div",Ds,(0,e.v_)(i.i18n.password),1),t[34]||(t[34]=(0,e.eW)()),(0,e.Lk)("div",Ms,[(0,e.Lk)("div",Ss,(0,e.v_)(i.i18n.T0019),1)])])):!n.isNew&&!i.isSelf&&o.userForm.groupId!==""?((0,e.uX)(),(0,e.CE)("div",Fs,[(0,e.Lk)("div",Ts,(0,e.v_)(i.i18n.password),1),t[36]||(t[36]=(0,e.eW)()),(0,e.Lk)("div",Rs,[(0,e.bF)(d,{normal:"",items:[{text:i.i18n[s.selectedUser.initPassword?"waitingResetPassword":o.userForm.adapterMode?"T0038":"resetPassword"]}],disabled:o.userForm.initPassword||o.userForm.adapterMode,onClick:t[9]||(t[9]=P=>o.activeConfirmForResetPassword=!0)},null,8,["items","disabled"]),t[35]||(t[35]=(0,e.eW)()),(0,e.Lk)("div",Es,(0,e.v_)(i.i18n.T0020),1)])])):(0,e.Q3)("v-if",!0),t[46]||(t[46]=(0,e.eW)()),(0,e.Lk)("div",Bs,[(0,e.Lk)("div",Xs,(0,e.v_)(i.i18n.defaultSetting),1),t[40]||(t[40]=(0,e.eW)()),(0,e.Lk)("div",js,[(0,e.Lk)("div",Ns,[(0,e.Lk)("div",Os,(0,e.v_)(i.i18n.permissions),1),t[37]||(t[37]=(0,e.eW)()),(0,e.Lk)("div",xs,[(0,e.bF)(c,{normal:"",items:i.permissionItems,"button-options":{text:o.noSelectPermission},"selected-value":o.userForm.groupId,onOnchange:i.onChangePermission},null,8,["items","button-options","selected-value","onOnchange"])])]),t[39]||(t[39]=(0,e.eW)()),(0,e.Lk)("div",Gs,[(0,e.Lk)("div",Qs,(0,e.v_)(i.i18n.startPage),1),t[38]||(t[38]=(0,e.eW)()),(0,e.Lk)("div",zs,[(0,e.bF)(c,{normal:"","display-row-count":3,items:i.startPageItems,"button-options":{text:o.noSelectStartPage},disabled:n.isNew,"selected-value":o.userForm.defaultMenuCode,onOnchange:i.onChangeStartPage},null,8,["items","button-options","disabled","selected-value","onOnchange"])])])])]),t[47]||(t[47]=(0,e.eW)()),(0,e.Lk)("div",Ks,[(0,e.Lk)("div",qs,(0,e.v_)(i.i18n.ipSpecificSetting),1),t[42]||(t[42]=(0,e.eW)()),(0,e.Lk)("div",Vs,[(0,e.Lk)("div",Hs,(0,e.v_)(i.i18n.T0055),1),t[41]||(t[41]=(0,e.eW)()),(0,e.bF)(m,{type:"info",title:i.i18n.ipWhitelist,items:o.allowIpAddresses,"onUpdate:items":t[10]||(t[10]=P=>o.allowIpAddresses=P)},null,8,["title","items"])])]),t[48]||(t[48]=(0,e.eW)()),(0,e.Lk)("div",Ys,[(0,e.bF)(d,{class:"border-none",normal:"",items:[{text:i.i18n.cancel}],onClick:i.onClickCancelBtn},null,8,["items","onClick"]),t[43]||(t[43]=(0,e.eW)()),(0,e.bF)(d,{class:"primary",normal:"",loading:o.saveLoading,disabled:i.isDuplicated||i.isInvalidated,items:[{text:i.i18n.saveChanges}],onClick:i.onClickSaveBtn},null,8,["loading","disabled","items","onClick"])]),t[49]||(t[49]=(0,e.eW)()),o.activeConfirm?((0,e.uX)(),(0,e.Wv)(O,{key:4,message:i.i18n.M0270,onCancel:t[11]||(t[11]=()=>o.activeConfirm=!1),onApply:i.onApplyDeleteUser},null,8,["message","onApply"])):(0,e.Q3)("v-if",!0),t[50]||(t[50]=(0,e.eW)()),o.activeConfirmForResetPassword?((0,e.uX)(),(0,e.Wv)(O,{key:5,message:i.i18n.T0021,onCancel:t[12]||(t[12]=()=>o.activeConfirmForResetPassword=!1),onApply:i.onInitPasswordUser},null,8,["message","onApply"])):(0,e.Q3)("v-if",!0),t[51]||(t[51]=(0,e.eW)()),o.alertMessage!==""?((0,e.uX)(),(0,e.Wv)(U,{key:6,message:o.alertMessage,onCancel:t[13]||(t[13]=()=>o.alertMessage="")},null,8,["message"])):(0,e.Q3)("v-if",!0)])}var Zs=r(55539),re=r(11649),$s=r(86471);const ei={class:"back-button"},ti={class:"left"},si={class:"right"},ii={class:"name"};function oi(s,t,n,a,o,i){const _=(0,e.g2)("btn");return(0,e.uX)(),(0,e.CE)("div",ei,[(0,e.Lk)("div",ti,[(0,e.bF)(_,{normal:"",class:"border-none",items:[{iconType:o.backOptions.iconType}],"tooltip-options":{message:i.i18n.goBack},onClick:i.onClickBackBtn},null,8,["items","tooltip-options","onClick"])]),t[0]||(t[0]=(0,e.eW)()),(0,e.Lk)("div",si,[(0,e.Lk)("div",ii,(0,e.v_)(n.subject),1)])])}const ni={inject:["i18n"],components:{Btn:T.A,SvgIcon:S.Ah},props:{subject:{type:String,required:!0}},data(){return{backOptions:{iconType:S.B2.arrowBack}}},methods:{...N(["changeScreenMode"]),onClickBackBtn(){this.changeScreenMode({mode:"list"})}}},de=(0,k.A)(ni,[["render",oi],["__scopeId","data-v-01b428f6"]]),li={inject:["i18n","token"],components:{Alert:Zs.A,Btn:T.A,InputField:re.A,Dropdown:A.A,ConfirmWindow:se.A,AlertWindow:J.A,BackButton:de,IpSetting:$s.A},props:{isNew:{type:Boolean,required:!0}},computed:{...K({users:s=>s.users,permissions:s=>s.permissions,selectedUser:s=>s.selectedUser,passwordPolicy:s=>s.passwordPolicy}),isSelf(){const{loginData:s}=this.selectedUser,t=s.find(n=>n.id===this.selectedUser.id);return t&&t.isSelf},permissionItems(){return this.permissions.map(s=>({text:s.name===""?s.id:`${s.id} (${s.name})`,value:s.id}))},startPageItems(){return this.accessibleMenus.map(s=>({text:`${this.i18n[s.type]} / ${s.name}`,value:s.url}))},isDuplicated(){return this.isNew&&!this.validatorUserId(this.userForm.id)},isInvalidated(){return(0,l.T_)(this.userForm.id)||(0,l.T_)(this.userForm.name)}},watch:{selectedUser(s,t){s.groupId!==t.groupId&&(this.noSelectPermission="",this.userForm.groupId=s.groupId)},allowIpAddresses(s){this.userForm.allowIp=s.map(t=>t.trim()).join(",")}},data(){return{iconTypes:{delete:S.B2.trashcan,lock:S.B2.lock},activeConfirm:!1,activeConfirmForResetPassword:!1,alertMessage:"",userForm:this.createUserForm(),saveLoading:!1,noSelectPermission:"",noSelectStartPage:"",accessibleMenus:[],allowIpAddresses:[]}},methods:{...N(["changeScreenMode"]),...H(["deleteUser","loadAccessibleMenuItems","addUser","updateUser","loadPasswordPolicy"]),async onApplyDeleteUser(){const{data:s}=await this.deleteUser(this.selectedUser.id);s===""?this.changeScreenMode({mode:"list"}):(this.alertMessage=this.i18n[s],this.activeConfirm=!1)},async onClickSaveBtn(){this.saveLoading=!0;const{data:s}=await this[this.isNew?"addUser":"updateUser"]({...this.userForm,token:this.token});if(s==="M0107"||s==="")this.onClickCancelBtn();else{await this.loadPasswordPolicy();const t=this.passwordPolicy;if(s==="M0104"){let n=this.i18n.M0104;n=n.replace("%d",t.passwordLength),n=n.replace("%d",t.minLowercase),n=n.replace("%d",t.minUppercase),n=n.replace("%d",t.minDigit),n=n.replace("%d",t.minSpecial),n=n.replace("%d",t.minSameCount),this.alertMessage=n}else this.alertMessage=this.i18n[s];this.saveLoading=!1}},onClickCancelBtn(){this.changeScreenMode({mode:"list",data:null})},onChangePermission({value:s}){this.noSelectPermission="",this.userForm.groupId=s},onChangeStartPage({value:s}){this.noSelectStartPage="",this.userForm.defaultMenuCode=s},onClickWaitedUser(){this.$emit("show-waited-user",{userName:this.selectedUser.name,userId:this.selectedUser.id})},onClickLockedUser(){this.$emit("show-locked-user",{userName:this.selectedUser.name,userId:this.selectedUser.id})},onClickConnectingUsers(){this.$emit("show-connecting-users",this.selectedUser.loginData)},onInitPasswordUser(){this.userForm.initPassword=!0,this.activeConfirmForResetPassword=!1},validatorCellphone(s){return(0,l.lA)(s)},validatorEmail(s){return(0,l.bB)(s)},validatorUserId(s){return!this.isNew||this.users.filter(t=>t.id===s).length===0&&!(0,l.T_)(s)},validatorUserName(s){return!(0,l.T_)(s)},createUserForm(s){return{id:"",name:"",company:"",dept:"",jobTitle:"",cellphone:"",email:"",groupId:"",defaultMenuCode:"",initPassword:!0,allowIp:"",...s}},historyPushState(){history.pushState(null,document.title,location.href)},historyPopState(){this.historyPushState(),this.onClickCancelBtn()}},async created(){if(this.isNew)this.noSelectPermission=this.i18n.noChoice,this.noSelectStartPage=this.i18n.noChoice,this.onChangePermission({value:this.permissionItems[0].value});else{const{data:s}=await this.loadAccessibleMenuItems(this.selectedUser.id);this.accessibleMenus=s,this.selectedUser.groupId===""&&(this.noSelectPermission=this.i18n.noChoice),this.selectedUser.defaultMenuCode===""&&(this.noSelectStartPage=this.i18n.noChoice),this.userForm=this.createUserForm(this.selectedUser),this.selectedUser.allowIp&&this.selectedUser.allowIp!==""&&(this.allowIpAddresses=this.selectedUser.allowIp.split(",").map(t=>t.trim()))}this.historyPushState(),window.addEventListener("popstate",this.historyPopState)},beforeUnmount(){window.removeEventListener("popstate",this.historyPopState)}},ri=(0,k.A)(li,[["render",Js],["__scopeId","data-v-56cbf080"]]),di={class:"app permission-detail"},ai={key:0,class:"title"},ui={key:1,class:"title"},_i={class:"row"},pi={class:"left"},ci={class:"right input"},mi={class:"form"},vi={class:"subject"},gi={class:"input"},hi={class:"form"},fi={class:"subject"},yi={class:"input"},ki={class:"row"},bi={class:"left"},wi={class:"right"},Ci={class:"row"},Pi={class:"left"},Li={class:"right"},Ui={class:"row"},Ii={class:"left"},Wi={class:"right"},Ai={class:"message"},Di={class:"footer"};function Mi(s,t,n,a,o,i){const _=(0,e.g2)("back-button"),d=(0,e.g2)("btn"),p=(0,e.g2)("input-field"),u=(0,e.g2)("item-list"),c=(0,e.g2)("target-list"),m=(0,e.g2)("confirm-window"),O=(0,e.g2)("alert-window");return(0,e.uX)(),(0,e.CE)("div",di,[n.isNew?((0,e.uX)(),(0,e.CE)("div",ai,(0,e.v_)(i.i18n.addPermission),1)):((0,e.uX)(),(0,e.CE)("div",ui,[(0,e.bF)(_,{subject:s.selectedPermission.name},null,8,["subject"]),t[5]||(t[5]=(0,e.eW)()),i.isDeleteTarget?((0,e.uX)(),(0,e.Wv)(d,{key:0,normal:"",class:"border-none",items:[{iconType:o.iconTypes.delete}],onClick:t[0]||(t[0]=()=>o.activeConfirm=!0)},null,8,["items"])):(0,e.Q3)("v-if",!0)])),t[15]||(t[15]=(0,e.eW)()),(0,e.Lk)("div",_i,[(0,e.Lk)("div",pi,(0,e.v_)(i.i18n.defaultSetting),1),t[9]||(t[9]=(0,e.eW)()),(0,e.Lk)("div",ci,[(0,e.Lk)("div",mi,[(0,e.Lk)("div",vi,(0,e.v_)(i.i18n.name),1),t[6]||(t[6]=(0,e.eW)()),(0,e.Lk)("div",gi,[(0,e.bF)(p,{normal:"",disabled:!n.isNew,placeholder:i.i18n.requiredFields,validator:i.validPermissionId,value:o.permissionForm.id,"onUpdate:value":t[1]||(t[1]=U=>o.permissionForm.id=U)},null,8,["disabled","placeholder","validator","value"])])]),t[8]||(t[8]=(0,e.eW)()),(0,e.Lk)("div",hi,[(0,e.Lk)("div",fi,(0,e.v_)(i.i18n.description),1),t[7]||(t[7]=(0,e.eW)()),(0,e.Lk)("div",yi,[(0,e.bF)(p,{normal:"",value:o.permissionForm.name,"onUpdate:value":t[2]||(t[2]=U=>o.permissionForm.name=U)},null,8,["value"])])])])]),t[16]||(t[16]=(0,e.eW)()),(0,e.Lk)("div",ki,[(0,e.Lk)("div",bi,(0,e.v_)(i.i18n.screenSetting),1),t[10]||(t[10]=(0,e.eW)()),(0,e.Lk)("div",wi,[(0,e.bF)(u,{"use-all-check":!0,"use-fold-icon":!0,"grouped-items":i.groupedItemsForMenu,"checked-group-indexes":i.checkedGroupIndexesForMenu,"checked-item-values":i.checkedValuesForMenu,"is-admin-group":i.isAdminGroup,onUpdate:i.onChangeGroupedItemsForMenu},null,8,["grouped-items","checked-group-indexes","checked-item-values","is-admin-group","onUpdate"])])]),t[17]||(t[17]=(0,e.eW)()),(0,e.Lk)("div",Ci,[(0,e.Lk)("div",Pi,(0,e.v_)(i.i18n.funcConfig),1),t[11]||(t[11]=(0,e.eW)()),(0,e.Lk)("div",Li,[(0,e.bF)(u,{"use-all-check":!1,"use-fold-icon":!1,"grouped-items":i.groupedItemsForFunction,"checked-item-values":i.checkedValuesForFunction,onUpdate:i.onChangeGroupedItemsForFunction},null,8,["grouped-items","checked-item-values","onUpdate"])])]),t[18]||(t[18]=(0,e.eW)()),(0,e.Lk)("div",Ui,[(0,e.Lk)("div",Ii,(0,e.v_)(i.i18n.objectConf),1),t[13]||(t[13]=(0,e.eW)()),(0,e.Lk)("div",Wi,[(0,e.Lk)("div",Ai,(0,e.v_)(i.i18n.M0695),1),t[12]||(t[12]=(0,e.eW)()),(0,e.bF)(c,{"grouped-targets":i.groupedTargets,"checked-target-map":i.checkedMapForTarget,onUpdate:i.onChangeGroupedTargets},null,8,["grouped-targets","checked-target-map","onUpdate"])])]),t[19]||(t[19]=(0,e.eW)()),(0,e.Lk)("div",Di,[(0,e.bF)(d,{class:"border-none",normal:"",items:[{text:i.i18n.cancel}],onClick:i.onClickCancelBtn},null,8,["items","onClick"]),t[14]||(t[14]=(0,e.eW)()),(0,e.bF)(d,{class:"primary",normal:"",disabled:!i.validPermissionId(o.permissionForm.id),loading:o.saveLoading,items:[{text:i.i18n.saveChanges}],onClick:i.onClickSaveBtn},null,8,["disabled","loading","items","onClick"])]),t[20]||(t[20]=(0,e.eW)()),o.activeConfirm?((0,e.uX)(),(0,e.Wv)(m,{key:2,message:i.i18n.M0270,onCancel:t[3]||(t[3]=()=>o.activeConfirm=!1),onApply:i.onApplyDeletePermission},null,8,["message","onApply"])):(0,e.Q3)("v-if",!0),t[21]||(t[21]=(0,e.eW)()),o.alertMessage!==""?((0,e.uX)(),(0,e.Wv)(O,{key:3,message:o.alertMessage,onCancel:t[4]||(t[4]=()=>o.alertMessage="")},null,8,["message"])):(0,e.Q3)("v-if",!0)])}const Si={class:"item-list"},Fi={class:"item"},Ti={class:"name"},Ri={key:0,class:"children"},Ei={class:"sub-item"};function Bi(s,t,n,a,o,i){const _=(0,e.g2)("checkbox"),d=(0,e.g2)("btn");return(0,e.uX)(),(0,e.CE)("div",Si,[((0,e.uX)(!0),(0,e.CE)(e.FK,null,(0,e.pI)(o.checkedGroupItems,(p,u)=>((0,e.uX)(),(0,e.CE)("div",Fi,[(0,e.Lk)("div",Ti,[n.useAllCheck?((0,e.uX)(),(0,e.Wv)(_,{key:0,onChange:c=>i.onChangeCheckedAll(u),active:p.checked,"onUpdate:active":c=>p.checked=c,disabled:i.checkAdminGroupInManagement(u)},null,8,["onChange","active","onUpdate:active","disabled"])):(0,e.Q3)("v-if",!0),t[0]||(t[0]=(0,e.eW)()),(0,e.Lk)("span",null,(0,e.v_)(p.name),1),t[1]||(t[1]=(0,e.eW)()),n.useFoldIcon?((0,e.uX)(),(0,e.Wv)(d,{key:1,normal:"",class:"border-none",items:[{iconType:o.iconTypes[o.openStatus[u]?"open":"fold"]}],onClick:c=>i.onToggleItemList(u)},null,8,["items","onClick"])):(0,e.Q3)("v-if",!0)]),t[2]||(t[2]=(0,e.eW)()),!n.useFoldIcon||o.openStatus[u]?((0,e.uX)(),(0,e.CE)("div",Ri,[((0,e.uX)(!0),(0,e.CE)(e.FK,null,(0,e.pI)(p.children,c=>((0,e.uX)(),(0,e.CE)("div",Ei,[(0,e.bF)(_,{onChange:m=>i.onChangeCheckedItem(u),active:c.checked,"onUpdate:active":m=>c.checked=m,disabled:i.checkAdminGroupInManagement(u),label:c.text},null,8,["onChange","active","onUpdate:active","disabled","label"])]))),256))])):(0,e.Q3)("v-if",!0)]))),256))])}const Xi={components:{Btn:T.A,Checkbox:Z.A},inject:["i18n"],props:{useAllCheck:{type:Boolean,required:!1,default:!1},useFoldIcon:{type:Boolean,required:!1,default:!1},groupedItems:{type:Array,required:!1,default:()=>[]},checkedGroupIndexes:{type:Array,required:!1,default:()=>[]},checkedItemValues:{type:Array,required:!1,default:()=>[]},isAdminGroup:{type:Boolean,required:!1,default:!1}},watch:{groupedItems(s){this.checkedGroupItems=this.createCheckedGroupItems(s)}},data(){return{iconTypes:{open:S.B2.arrowUp,fold:S.B2.arrowDown},openStatus:{},checkedGroupItems:this.createCheckedGroupItems(this.groupedItems)}},methods:{onChangeCheckedAll(s){const t=this.checkedGroupItems[s];t.children=t.children.map(n=>({...n,checked:t.checked})),this.emitCheckedItems()},onChangeCheckedItem(s){const t=this.checkedGroupItems[s];t.checked=t.children.filter(n=>!n.checked).length===0,this.emitCheckedItems()},onToggleItemList(s){this.openStatus[s]=!this.openStatus[s]},emitCheckedItems(){const s=[];this.checkedGroupItems.forEach(t=>{t.children.forEach(n=>{n.checked&&s.push(n)})}),this.$emit("update",s)},createCheckedGroupItems(s){return s.map((t,n)=>{let a=this.checkedGroupIndexes.includes(n),o=0;const i=t.children.map(_=>{const d=this.checkedItemValues.includes(_.value);return d&&(o+=1),{..._,checked:a||d}});return{...t,children:i,checked:a||o===t.children.length}})},checkAdminGroupInManagement(s){return this.isAdminGroup&&s===this.checkedGroupItems.length-1}},created(){this.emitCheckedItems()}},ji=(0,k.A)(Xi,[["render",Bi],["__scopeId","data-v-4393d189"]]),Ni={class:"target-list"},Oi={class:"tool-bar"},xi={class:"target"},Gi={class:"name"},Qi={class:"all"},zi={class:"auto"},Ki={key:0,class:"children"},qi={class:"sub-target"};function Vi(s,t,n,a,o,i){const _=(0,e.g2)("checkbox"),d=(0,e.g2)("btn");return(0,e.uX)(),(0,e.CE)("div",Ni,[(0,e.Lk)("div",Oi,[(0,e.bF)(_,{disabled:o.checkedAllAuto,active:o.checkedAllGroup,label:i.i18n.selectAll,onChange:i.onChangeCheckedAllGroup},null,8,["disabled","active","label","onChange"]),t[0]||(t[0]=(0,e.eW)()),(0,e.bF)(_,{active:o.checkedAllAuto,label:i.i18n.addInstance,onChange:i.onChangeCheckedAllAuto},null,8,["active","label","onChange"])]),t[6]||(t[6]=(0,e.eW)()),((0,e.uX)(!0),(0,e.CE)(e.FK,null,(0,e.pI)(o.checkedGroupTargets,(p,u)=>((0,e.uX)(),(0,e.CE)("div",xi,[(0,e.Lk)("div",Gi,[(0,e.Lk)("div",Qi,[(0,e.bF)(_,{onChange:c=>i.onChangeCheckedGroup(u),disabled:p.useAuto||p.children.length===0,active:p.checked,"onUpdate:active":c=>p.checked=c},null,8,["onChange","disabled","active","onUpdate:active"]),t[1]||(t[1]=(0,e.eW)()),(0,e.Lk)("span",null,(0,e.v_)(p.name),1)]),t[3]||(t[3]=(0,e.eW)()),(0,e.Lk)("div",zi,[(0,e.bF)(_,{onChange:c=>i.onChangeCheckedAuto(u),active:p.useAuto,"onUpdate:active":c=>p.useAuto=c},null,8,["onChange","active","onUpdate:active"]),t[2]||(t[2]=(0,e.eW)()),(0,e.Lk)("span",null,(0,e.v_)(i.i18n.addInstance),1)]),t[4]||(t[4]=(0,e.eW)()),(0,e.bF)(d,{normal:"",class:"border-none",disabled:p.children.length===0,items:[{iconType:o.iconTypes[o.openStatus[u]?"open":"fold"]}],onClick:c=>i.onToggleTargetList(u)},null,8,["disabled","items","onClick"])]),t[5]||(t[5]=(0,e.eW)()),o.openStatus[u]?((0,e.uX)(),(0,e.CE)("div",Ki,[((0,e.uX)(!0),(0,e.CE)(e.FK,null,(0,e.pI)(p.children,c=>((0,e.uX)(),(0,e.CE)("div",qi,[(0,e.bF)(_,{onChange:m=>i.onChangeCheckedTarget(u),active:c.checked,"onUpdate:active":m=>c.checked=m,disabled:p.useAuto,label:`${c.text} (${c.value})`},null,8,["onChange","active","onUpdate:active","disabled","label"])]))),256))])):(0,e.Q3)("v-if",!0)]))),256))])}const Hi={components:{Btn:T.A,Checkbox:Z.A},inject:["i18n"],props:{groupedTargets:{type:Array,required:!1,default:()=>[]},checkedTargetMap:{type:Object,required:!1,default:()=>{}}},data(){const s=this.createCheckedGroupTargets(this.groupedTargets);return{iconTypes:{open:S.B2.arrowUp,fold:S.B2.arrowDown},openStatus:{},checkedAllGroup:s.filter(t=>t.checked).length===s.length,checkedAllAuto:s.filter(t=>t.useAuto).length===s.length,checkedGroupTargets:s}},methods:{onChangeCheckedAllGroup(s){this.checkedAllGroup=s,this.checkedGroupTargets=this.checkedGroupTargets.map(t=>({...t,checked:s&&t.children.length>0,children:t.children.map(n=>({...n,checked:s}))})),this.emitCheckedTargets()},onChangeCheckedAllAuto(s){this.checkedAllAuto=s,this.checkedGroupTargets=this.checkedGroupTargets.map(t=>({...t,useAuto:s})),this.emitCheckedTargets()},onChangeCheckedGroup(s){const t=this.checkedGroupTargets[s];t.children=t.children.map(n=>({...n,checked:t.checked})),this.emitCheckedTargets(),this.updateCheckedAllGroup()},onChangeCheckedAuto(s){this.emitCheckedTargets(),this.updateCheckedAllAuto()},onChangeCheckedTarget(s){const t=this.checkedGroupTargets[s];t.checked=t.children.filter(n=>!n.checked).length===0,this.emitCheckedTargets(),this.updateCheckedAllGroup()},onToggleTargetList(s){this.openStatus[s]=!this.openStatus[s]},emitCheckedTargets(){const s=[];this.checkedGroupTargets.forEach(t=>{t.useAuto?s.push(`${t.value}`):t.children.forEach(n=>{n.checked&&s.push(`${t.value}-${n.value}`)})}),this.$emit("update",s)},createCheckedGroupTargets(s){const t=this.checkedTargetMap;return s.map(n=>{const{value:a,children:o}=n,i=t.hasOwnProperty(a),_=i&&t[a].length===0;return o.forEach(d=>{d.checked=i&&t[a].includes(`${d.value}`)}),{...n,checked:i&&t[a].length===o.length&&o.length>0,useAuto:_}})},updateCheckedAllGroup(){this.checkedAllGroup=this.checkedGroupTargets.filter(s=>!s.checked).length===0},updateCheckedAllAuto(){this.checkedAllAuto=this.checkedGroupTargets.filter(s=>!s.useAuto).length===0}},created(){this.emitCheckedTargets()}},Yi=(0,k.A)(Hi,[["render",Vi],["__scopeId","data-v-a462be44"]]);var v=r(86617);const Ji={inject:["i18n","token"],components:{AlertWindow:J.A,ConfirmWindow:se.A,InputField:re.A,Btn:T.A,BackButton:de,ItemList:ji,TargetList:Yi},props:{isNew:{type:Boolean,required:!0}},computed:{...K({selectedPermission:s=>s.selectedPermission,permissions:s=>s.permissions,permissionMenus:s=>s.permissionMenus,permissionDomains:s=>s.permissionDomains}),isAdminGroup(){return this.selectedPermission!==null&&this.selectedPermission.name==="admin"},permissionFunctions(){return(0,l.hU)(v.$z).map(t=>{const n=t.toLowerCase();return{text:l.Ru.get(`ui.label.groupPermissionExplain.${n}`),value:v.$z[t]}})},groupedItemsForMenu(){const s={};return this.permissionMenus.forEach(t=>{const n=this.i18n[t.type];s[n]||(s[n]=[]),t.enable===1&&s[n].push({text:t.name,value:t.url,type:t.type})}),Object.keys(s).map(t=>({name:t,children:s[t]}))},checkedGroupIndexesForMenu(){return this.isNew?[0,1,2,3,4,5]:[]},checkedValuesForMenu(){if(!this.isNew){const{dashboard:s,realtime:t,analysis:n,statistics:a,report:o,management:i,userDefine:_}=this.selectedPermission;return[...s,...t,...n,...a,...o,...i,..._?["/userdefine"]:[]]}return[]},groupedItemsForFunction(){const s={[this.i18n.activeService]:[v.$z.THREAD_CONTROL,v.$z.ACTIVE_SERVICE_DUMP,v.$z.ACTIVE_MEMORY_DUMP],[this.i18n.loadedClasses]:[v.$z.DISASSEMBLE_CODE,v.$z.DECOMPILE_CODE],[this.i18n.xview]:[v.$z.SQL_VARIABLE,v.$z.SQL_BIND_VARIABLE,v.$z.SQL_SENSITIVE_VARIABLE,v.$z.SHOW_DEPLOY_IN_XVIEW,v.$z.SQL_EXECUTION_PLAN],[this.i18n.settingETC]:[v.$z.SQL_BUILDER,v.$z.VIEW_ALL_USERDEFINE_DASHBOARD,v.$z.EDIT_USERDEFINE_DASHBOARD,v.$z.GC,v.$z.NOTICE_SYSTEM_EVENT_SCREEN,v.$z.SET_METHOD_PROFILE_IN_CALLTREE,v.$z.PRODUCT_PLUGIN,v.$z.VIEW_ALL_REPORT,v.$z.BLOCKING_SYSTEM_SETTING]};return Object.keys(s).map(t=>({name:t,children:this.permissionFunctions.filter(n=>s[t].includes(n.value))}))},checkedValuesForFunction(){if(this.isNew)return[v.$z.GC,v.$z.ACTIVE_SERVICE_DUMP,v.$z.DISASSEMBLE_CODE,v.$z.SQL_VARIABLE,v.$z.SQL_BIND_VARIABLE,v.$z.SQL_SENSITIVE_VARIABLE,v.$z.SHOW_DEPLOY_IN_XVIEW,v.$z.SQL_BUILDER,v.$z.SQL_EXECUTION_PLAN,v.$z.SET_METHOD_PROFILE_IN_CALLTREE,v.$z.SYSTEM_SETTING_PERMISSION];{const s=[],{functionalAuthority:t}=this.selectedPermission;for(let n in t)t[n]&&s.push(parseInt(n));return s}},groupedTargets(){return this.permissionDomains.map(s=>({name:s.shortName,value:s.sid,children:s.agent.map(t=>({text:t.shortName,value:t.agent}))}))},isDeleteTarget(){const s=this.selectedPermission;return s&&s.id!=="guest"&&s.id!=="admin"},checkedMapForTarget(){return this.isNew?{}:JSON.parse(this.selectedPermission.target)}},data(){return{iconTypes:{delete:S.B2.trashcan},permissionForm:this.createPermissionForm(),activeConfirm:!1,saveLoading:!1,alertMessage:""}},methods:{...N(["changeScreenMode"]),...H(["deletePermission","savePermission"]),async onApplyDeletePermission(){const{data:s}=await this.deletePermission(this.selectedPermission.id);s?this.changeScreenMode({mode:"list"}):(this.alertMessage=this.i18n.M0188,this.activeConfirm=!1)},onChangeGroupedItemsForMenu(s){this.permissionForm.dashboard=[],this.permissionForm.realtime=[],this.permissionForm.analysis=[],this.permissionForm.statistics=[],this.permissionForm.management=[],this.permissionForm.report=[],this.permissionForm.userdefine=null,s.forEach(t=>{t.type==="userdefine"?this.permissionForm[t.type]=t.value:this.permissionForm[t.type].push(t.value)})},onChangeGroupedItemsForFunction(s){this.permissionForm.permission=s.map(t=>t.value)},onChangeGroupedTargets(s){this.permissionForm.target=s.join(",")},onClickCancelBtn(){this.permissionForm=this.createPermissionForm(),this.changeScreenMode({mode:"list",data:null})},async onClickSaveBtn(){this.saveLoading=!0,await this.savePermission({...this.permissionForm,token:this.token}),this.saveLoading=!1,this.onClickCancelBtn()},createPermissionForm(s=null){return{id:"",name:"",...s}},validPermissionId(s){const t=/[\s]/g;return!this.isNew||s!==null&&s!==""&&!(0,l.T_)(s)&&!t.test(s)&&this.permissions.filter(n=>n.id===s).length===0},historyPushState(){history.pushState(null,document.title,location.href)},historyPopState(){this.historyPushState(),this.onClickCancelBtn()}},created(){this.permissionForm=this.createPermissionForm(this.isNew?null:{id:this.selectedPermission.id,name:this.selectedPermission.name}),this.historyPushState(),window.addEventListener("popstate",this.historyPopState)},beforeUnmount(){window.removeEventListener("popstate",this.historyPopState)}},Zi=(0,k.A)(Ji,[["render",Mi],["__scopeId","data-v-5499cb89"]]),$i={provide:{i18n:{title:l.Ru.get("ui.label.usersAndPermissions"),loginPolicy:l.Ru.get("ui.label.manageLoginUsers"),passwordPolicy:l.Ru.get("ui.label.passwordPolicy"),permissions:l.Ru.get("ui.label.permissions"),user:l.Ru.get("ui.label.user"),addUser:l.Ru.get("ui.label.addUser"),addPermission:l.Ru.get("ui.label.addPermission"),lastLoginTime:l.Ru.get("ui.label.lastLoginTime"),userId:l.Ru.get("ui.label.userId"),userName:l.Ru.get("ui.label.userName"),status:l.Ru.get("ui.label.state"),delete:l.Ru.get("ui.button.delete"),modify:l.Ru.get("ui.button.modify"),approvedWait:l.Ru.get("ui.label.approvedWait"),connecting:l.Ru.get("ui.label.connecting"),sessionLimitCount:l.Ru.get("ui.label.sessionLimitCount"),preventDuplicateLogin:l.Ru.get("ui.label.preventDuplicateLogin"),referenceValue:l.Ru.get("ui.label.filter.value"),defaultValue:l.Ru.get("ui.label.defaultValue"),passwordLength:l.Ru.get("ui.label.passwordLength"),customize:l.Ru.get("ui.label.customize"),changingPeriod:l.Ru.get("ui.label.changingPeriod"),delayPeriod:l.Ru.get("ui.label.delayPeriod"),minUppercase:l.Ru.get("ui.label.minUppercase"),minLowercase:l.Ru.get("ui.label.minLowercase"),minDigit:l.Ru.get("ui.label.minDigit"),minSpecial:l.Ru.get("ui.label.minSpecial"),minLength:l.Ru.get("ui.label.passwordLength"),minSameCount:l.Ru.get("ui.label.minSameCount"),unitPerson:l.Ru.get("ui.label.unit.person"),unitDay:l.Ru.get("ui.label.unit.day"),unitCase:l.Ru.get("ui.label.unit.cases"),saveChanges:l.Ru.get("ui.label.saveChanges"),cancel:l.Ru.get("ui.button.cancel"),approved:l.Ru.get("ui.label.approved"),ignore:l.Ru.get("ui.label.ignore"),loginUsers:l.Ru.get("ui.label.loginUsers"),sessionId:l.Ru.get("ui.label.sessionId"),clientIp:l.Ru.get("ui.label.clientIp"),browser:l.Ru.get("ui.label.browser"),forcedQuit:l.Ru.get("ui.label.forcedQuit"),unlocking:l.Ru.get("ui.label.unlocking"),goBack:l.Ru.get("ui.label.goBack"),editProfile:l.Ru.get("ui.label.editProfile"),changePassword:l.Ru.get("ui.label.changePassword"),requiredFields:l.Ru.get("ui.label.requiredFields"),password:l.Ru.get("ui.label.password"),newPassword:l.Ru.get("ui.label.newPassword"),confirmNewPassword:l.Ru.get("ui.label.confirmNewPassword"),optionalFields:l.Ru.get("ui.label.optionalFields"),company:l.Ru.get("ui.label.company"),dept:l.Ru.get("ui.label.dept"),jobTitle:l.Ru.get("ui.label.jobTitle"),cellphone:l.Ru.get("ui.label.cellphone"),email:l.Ru.get("ui.label.email"),startPage:l.Ru.get("ui.label.startPage"),settingETC:l.Ru.get("ui.group.settingETC"),noChoice:l.Ru.get("ui.label.template.noChoice"),dashboard:l.Ru.get("ui.title.dashboard"),realtime:l.Ru.get("ui.label.realtime"),userdefine:l.Ru.get("ui.label.userdefineddashboard"),userdefineddashboard:l.Ru.get("ui.label.userdefineddashboard"),analysis:l.Ru.get("ui.label.analysis"),statistics:l.Ru.get("ui.label.statistics"),report:l.Ru.get("ui.title.report"),management:l.Ru.get("ui.label.management"),detailSetting:l.Ru.get("ui.label.detailSetting"),defaultSetting:l.Ru.get("ui.label.defaultSetting"),description:l.Ru.get("ui.label.description"),name:l.Ru.get("ui.label.name"),screenSetting:l.Ru.get("ui.label.screenSetting"),funcConfig:l.Ru.get("ui.label.funcConfig"),objectConf:l.Ru.get("ui.label.objectConf"),activeService:l.Ru.get("ui.label.activeService"),loadedClasses:l.Ru.get("ui.title.loadedClasses"),xview:l.Ru.get("ui.title.xview"),addInstance:l.Ru.get("ui.label.addInstance"),selectAll:l.Ru.get("ui.label.selectAll"),resetPassword:l.Ru.get("word.resetPassword"),waitingResetPassword:l.Ru.get("word.waitingResetPassword"),ipSpecificSetting:l.Ru.get("ui.label.ipSpecificSetting"),ipWhitelist:l.Ru.get("ui.label.ipWhitelist"),add:l.Ru.get("ui.button.add"),M0004:l.Ru.get("M0004"),M0101:l.Ru.get("M0101"),M0103:l.Ru.get("M0103"),M0104:l.Ru.get("M0104"),M0105:l.Ru.get("M0105"),M0111:l.Ru.get("M0111"),M0116:l.Ru.get("M0116"),M0117:l.Ru.get("M0117"),M0118:l.Ru.get("M0118"),M0188:l.Ru.get("M0188"),M0119:l.Ru.get("M0119"),M0328:l.Ru.get("M0328"),M0078:l.Ru.get("M0078"),M0113:l.Ru.get("M0113"),M0270:l.Ru.get("M0270"),M0687:l.Ru.get("M0687"),M0688:l.Ru.get("M0688"),M0689:l.Ru.get("M0689"),M0690:l.Ru.get("M0690"),M0691:l.Ru.get("M0691"),M0692:l.Ru.get("M0692"),M0693:l.Ru.get("M0693"),M0694:l.Ru.get("M0694"),M0695:l.Ru.get("M0695"),M0331:l.Ru.get("M0331"),M0114:l.Ru.get("M0114"),M0272:l.Ru.get("M0272"),M0745:l.Ru.get("M0745"),T0019:l.Ru.get("text.0019"),T0020:l.Ru.get("text.0020"),T0021:l.Ru.get("text.0021"),T0038:l.Ru.get("text.0038"),T0055:l.Ru.get("text.0055")}},inject:["token"],components:{IndexPage:es,UserDetail:ri,PermissionDetail:Zi,ApprovalReqWindow:b,ConnectionInfoWindow:ae,ConnectionInfoListWindow:he,UnlockUserWindow:be},computed:{...K({screenMode:s=>s.screenMode,permissions:s=>s.permissions,selectedUser:s=>s.selectedUser,users:s=>s.users})},data(){return{approvalReqData:{active:!1,left:0,top:0,width:375,height:246,userId:"",userName:""},connectionInfoData:{active:!1,left:0,top:0,width:600,height:371,userId:"",sessionId:"",clientIp:"",browser:"",isSelf:!1},connectionInfoListData:{active:!1,left:0,top:0,width:600,height:371,users:[]},unlockUserData:{active:!1,left:0,top:0,width:375,height:188}}},methods:{...N(["selectUser","selectPermission","changeScreenMode"]),...H(["loadUsers","updateUser","banUser","loadPermissions","loadPermissionMenus","loadPermissionDomains"]),onShowWaitedUser(s){const{left:t,top:n}=this.getWindowPosition(this.approvalReqData.width,this.approvalReqData.height);this.approvalReqData={...this.approvalReqData,...s,left:t,top:n,active:!0}},onShowLockedUser(s){const{left:t,top:n}=this.getWindowPosition(this.unlockUserData.width,this.unlockUserData.height);this.unlockUserData={...this.unlockUserData,...s,left:t,top:n,active:!0}},onShowConnectingUsers(s){if(s.length===1){const{left:t,top:n}=this.getWindowPosition(this.connectionInfoData.width,this.connectionInfoData.height);this.connectionInfoData={...this.connectionInfoData,...s[0],left:t,top:n,active:!0}}else{const{left:t,top:n}=this.getWindowPosition(this.connectionInfoListData.width,this.connectionInfoListData.height);this.connectionInfoListData={...this.connectionInfoListData,left:t,top:n,active:!0,users:s}}},onApplyApprovalReqWindow(s){this.approvalReqData.active=!1,this.updateUser({...this.selectedUser,groupId:s,token:this.token}),this.selectUser({...this.selectedUser,groupId:s})},onApplyUnlockUserWindow(){this.unlockUserData.active=!1,this.updateUser({...this.selectedUser,loginFailCnt:0,token:this.token}),this.selectUser({...this.selectedUser,loginLock:!1})},onApplyUserBan(s){this.connectionInfoData.active=!1,this.connectionInfoListData.active=!1,this.banUser(s)},getWindowPosition(s,t){return{left:window.innerWidth/2-s/2,top:window.innerHeight/2-t/2}},loadParameters(){const s=new URLSearchParams(location.search);if(s.has("mode")&&s.has("id")){const t=s.get("mode"),n=s.get("id");if(t==="user"){const a=this.users.find(o=>o.id===n);a&&(this.changeScreenMode({mode:"modify-user",data:a}),this.selectUser(a))}else if(t==="permission"){const a=this.permissions.find(o=>o.id===n);a&&(this.changeScreenMode({mode:"modify-permission",data:a}),this.selectPermission(a))}}}},async created(){await this.loadPermissions(),await this.loadUsers(),this.loadPermissionMenus(),this.loadPermissionDomains(),this.loadParameters()}},eo=(0,k.A)($i,[["render",D]])},10401:(R,f,r)=>{r.d(f,{A:()=>L});var e=r(90428);const L={name:"Radio",mixins:[e.A],props:{normal:Boolean,large:Boolean},computed:{size(){return this.large?"large":"normal"}}}},27040:(R,f,r)=>{r.d(f,{X:()=>e.X});var e=r(43204)},43204:(R,f,r)=>{r.d(f,{X:()=>w});var e=r(47577);const L={class:"alert-content"},D=["innerHTML"];function w(I,W,A,X,k,g){const b=(0,e.g2)("svg-icon"),C=(0,e.g2)("btn");return(0,e.uX)(),(0,e.Wv)(e.eB,{name:g.transitionName,appear:""},{default:(0,e.k6)(()=>[(0,e.Lk)("div",{class:(0,e.C4)(["aries-ui-alert",[A.type,{toast:A.toast},{large:A.large}]]),style:(0,e.Tr)(g.cssValue)},[(0,e.Lk)("div",L,[A.hideIcon?(0,e.Q3)("v-if",!0):((0,e.uX)(),(0,e.Wv)(b,{key:0,icon:A.iconType,width:g.iconSize,height:g.iconSize},null,8,["icon","width","height"])),W[1]||(W[1]=(0,e.eW)()),(0,e.Lk)("span",{class:"alert-message",innerHTML:A.message},null,8,D)]),W[2]||(W[2]=(0,e.eW)()),A.showCloseBtn?((0,e.uX)(),(0,e.Wv)(C,{key:0,items:[{iconType:k.closeIcon}],normal:A.large,class:"close-btn transparent",onClick:W[0]||(W[0]=F=>I.$emit("close"))},null,8,["items","normal"])):(0,e.Q3)("v-if",!0)],6)]),_:1},8,["name"])}},54189:(R,f,r)=>{r.d(f,{A:()=>e.A});var e=r(10401)},55539:(R,f,r)=>{r.d(f,{A:()=>I});var e=r(27040),L=r(96592),D=r(35339);const I=(0,D.A)(L.A,[["render",e.X],["__scopeId","data-v-73d67be6"]])},73310:(R,f,r)=>{r.d(f,{A:()=>I});var e=r(98884),L=r(54189),D=r(35339);const I=(0,D.A)(L.A,[["render",e.X],["__scopeId","data-v-d3897ec0"]])},78496:(R,f,r)=>{r.d(f,{A:()=>k});var e=r(47577);const L={class:"main"};function D(g,b,C,F,Q,q){const x=(0,e.g2)("svg-icon"),h=(0,e.g2)("tooltip");return(0,e.uX)(),(0,e.Wv)(h,{position:"top-center",message:`${g.memoText.main}`},{default:(0,e.k6)(()=>[(0,e.Lk)("div",{class:(0,e.C4)(["memo",g.memoType,g.memoText.disabled?"disabled":"",g.memoText.active?"active":""]),onClick:b[1]||(b[1]=(...y)=>g.onClickMemo&&g.onClickMemo(...y))},[(0,e.Lk)("span",L,(0,e.v_)(g.memoText.main),1),b[4]||(b[4]=(0,e.eW)()),g.useSubText?((0,e.uX)(),(0,e.CE)(e.FK,{key:0},[b[2]||(b[2]=(0,e.Lk)("span",{class:"blank"},":",-1)),b[3]||(b[3]=(0,e.eW)()),(0,e.Lk)("strong",null,(0,e.v_)(g.memoText.sub),1)],64)):(0,e.Q3)("v-if",!0),b[5]||(b[5]=(0,e.eW)()),g.useDeleteBtn&&!g.memoText.disabled?((0,e.uX)(),(0,e.CE)("div",{key:1,class:"icon",onClick:b[0]||(b[0]=(0,e.D$)((...y)=>g.onClickDeleteBtn&&g.onClickDeleteBtn(...y),["prevent","stop"]))},[(0,e.bF)(x,{icon:g.iconType,width:g.iconSize,height:g.iconSize},null,8,["icon","width","height"])])):(0,e.Q3)("v-if",!0)],2)]),_:1},8,["message"])}var w=r(79526),I=r(8355);const W=(0,e.pM)({components:{SvgIcon:w.Ah,Tooltip:I.A},props:{memoType:{type:String,required:!0},memoText:{type:Object,required:!0},useSubText:{type:Boolean,required:!1,default:!1},useDeleteBtn:{type:Boolean,required:!1,default:!1},iconSize:{type:Number,required:!1,default:16}},emits:["delete","select"],setup(g,{emit:b}){const C=()=>{b("select",g.memoText)},F=()=>{b("delete",g.memoText)};return{iconType:w.B2.close,onClickMemo:C,onClickDeleteBtn:F,...(0,e.QW)(g)}}});var A=r(35339);const k=(0,A.A)(W,[["render",D],["__scopeId","data-v-072375bf"]])},79960:(R,f,r)=>{r.d(f,{X:()=>D});var e=r(47577);const L={class:"aries-radio-label",for:"aries-radio-input"};function D(w,I,W,A,X,k){return(0,e.uX)(),(0,e.CE)("div",{class:(0,e.C4)(["aries-radio-wrapper",k.size,w.disabledClass]),style:(0,e.Tr)(w.cssValues),onClick:I[0]||(I[0]=(...g)=>w.change&&w.change(...g))},[(0,e.Lk)("span",{class:(0,e.C4)(["aries-radio",w.activeClass]),id:"aries-radio-input"},null,2),I[1]||(I[1]=(0,e.eW)()),(0,e.Lk)("label",L,(0,e.v_)(w.label),1)],6)}},86471:(R,f,r)=>{r.d(f,{A:()=>x});var e=r(47577);const L={class:"ip-setting"},D={class:"row"},w={class:"title"},I={class:"group"},W={class:"row"};function A(h,y,j,E,G,Y){const V=(0,e.g2)("input-field"),z=(0,e.g2)("btn"),B=(0,e.g2)("memos");return(0,e.uX)(),(0,e.CE)("div",L,[(0,e.Lk)("div",D,[(0,e.Lk)("div",w,(0,e.v_)(h.i18n[h.isUrl?"url":"ip"]),1),y[2]||(y[2]=(0,e.eW)()),(0,e.Lk)("div",I,[(0,e.bF)(V,{width:200,validator:h.validCheckInput,value:h.ipText,"onUpdate:value":y[0]||(y[0]=T=>h.ipText=T),"onKeyup:enter":h.onAddIp},null,8,["validator","value","onKeyup:enter"]),y[1]||(y[1]=(0,e.eW)()),(0,e.bF)(z,{normal:"",items:[{text:h.i18n.add}],onClick:h.onAddIp},null,8,["items","onClick"])])]),y[3]||(y[3]=(0,e.eW)()),(0,e.Lk)("div",W,[(0,e.bF)(B,{subject:h.title,"memo-type":h.ipType,"memo-items":h.ipItems,onDelete:h.onDeleteIp},null,8,["subject","memo-type","memo-items","onDelete"])])])}var X=r(11649),k=r(35375),g=r(3515),b=r(6373);function C(h){return h.map(y=>({main:y,sub:"",disabled:!1}))}const F=(0,e.pM)({components:{Btn:k.A,Memos:g.A,InputField:X.A},props:{title:{type:String,required:!0},items:{type:Array,required:!1,default:()=>[]},type:{type:String,required:!1,default:"info"},isUrl:{type:Boolean,required:!1,default:!1}},emits:["update:items"],setup(h,{emit:y}){const j=(0,e.WQ)("i18n",{}),E=(0,e.KR)(""),G=(0,e.KR)(C(h.items)),Y=()=>{z(E.value)&&(y("update:items",[...h.items,E.value]),E.value="")},V=(B,T)=>{y("update:items",h.items.filter((ie,oe)=>oe!==T))},z=B=>(0,b._$)(B)||h.isUrl&&B!=="";return(0,e.wB)(()=>h.items,B=>{G.value=C(B)}),{i18n:j,ipText:E,title:h.title,ipType:h.type,ipItems:G,onAddIp:Y,onDeleteIp:V,validCheckInput:z}}});var Q=r(35339);const x=(0,Q.A)(F,[["render",A],["__scopeId","data-v-70e6468b"]])},89324:(R,f,r)=>{r.d(f,{A:()=>D});var e=r(79526),L=r(35375);const D={name:"Alert",components:{SvgIcon:e.Ah,Btn:L.A},props:{width:{type:Number,default:void 0},message:{type:String,required:!0},type:{type:String,default:"normal",validator(w){return["normal","danger","warning","success","info"].includes(w)}},showCloseBtn:{type:Boolean,default:!1},fadeDown:{type:Boolean,default:!1},toast:{type:Boolean,default:!1},fitContent:{type:Boolean,default:!1},large:{type:Boolean,default:!1},hideIcon:{type:Boolean,default:!1},iconType:{type:String,default:e.B2.info}},computed:{cssValue(){return{"--alert-width":this.width?this.width+"px":this.fitContent?"fit-content":"100%"}},iconSize(){return this.large?18:16},transitionName(){return this.fadeDown?"fade-down":"default"}},data(){return{closeIcon:e.B2.close}}}},96592:(R,f,r)=>{r.d(f,{A:()=>e.A});var e=r(89324)},98884:(R,f,r)=>{r.d(f,{X:()=>e.X});var e=r(79960)}}]);
