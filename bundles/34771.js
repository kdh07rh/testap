"use strict";(self.webpackChunkjennifer5_frontend=self.webpackChunkjennifer5_frontend||[]).push([[34771],{23957:(E,c,i)=>{i.d(c,{Uq:()=>h,mu:()=>u,qE:()=>a});function a(l,t,s){return Math.min(Math.max(l,t),s)}class h{constructor(){this._n=1,this._val=0}update(t){return this._val=this._val+(t-this._val)/this._n,this._n+=1,this._val}get value(){return this._val}}class u{constructor(t){this._n=0,this._val=0,this._values=[],this._index=0,this._sum=0,this._values=new Array(t),this._values.fill(0,0,t)}update(t){const s=this._values[this._index];return this._values[this._index]=t,this._index=(this._index+1)%this._values.length,this._sum-=s,this._sum+=t,this._n<this._values.length&&(this._n+=1),this._val=this._sum/this._n,this._val}get value(){return this._val}}},26390:(E,c,i)=>{i.d(c,{k:()=>h});var a=i(81545);const h=(0,a.u1)("environmentService")},34771:(E,c,i)=>{i.r(c),i.d(c,{ILanguageFeatureDebounceService:()=>P,LanguageFeatureDebounceService:()=>I});var a=i(79475),h=i(41461),u=i(23957),l=i(26390),t=i(73429),s=i(81545),v=i(92824),S=i(54021),p=function(d,e,n,_){var o=arguments.length,r=o<3?e:_===null?_=Object.getOwnPropertyDescriptor(e,n):_,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(d,e,n,_);else for(var m=d.length-1;m>=0;m--)(f=d[m])&&(r=(o<3?f(r):o>3?f(e,n,r):f(e,n))||r);return o>3&&r&&Object.defineProperty(e,n,r),r},M=function(d,e){return function(n,_){e(n,_,d)}};const P=(0,s.u1)("ILanguageFeatureDebounceService");var g;(function(d){const e=new WeakMap;let n=0;function _(o){let r=e.get(o);return r===void 0&&(r=++n,e.set(o,r)),r}d.of=_})(g||(g={}));class O{constructor(e){this._default=e}get(e){return this._default}update(e,n){return this._default}default(){return this._default}}class A{constructor(e,n,_,o,r,f){this._logService=e,this._name=n,this._registry=_,this._default=o,this._min=r,this._max=f,this._cache=new h.qK(50,.7)}_key(e){return e.id+this._registry.all(e).reduce((n,_)=>(0,a.sN)(g.of(_),n),0)}get(e){const n=this._key(e),_=this._cache.get(n);return _?(0,u.qE)(_.value,this._min,this._max):this.default()}update(e,n){const _=this._key(e);let o=this._cache.get(_);o||(o=new u.mu(6),this._cache.set(_,o));const r=(0,u.qE)(o.update(n),this._min,this._max);return(0,S.v$)(e.uri,"output")||this._logService.trace(`[DEBOUNCE: ${this._name}] for ${e.uri.toString()} is ${r}ms`),r}_overall(){const e=new u.Uq;for(const[,n]of this._cache)e.update(n.value);return e.value}default(){const e=this._overall()|0||this._default;return(0,u.qE)(e,this._min,this._max)}}let I=class{constructor(e,n){this._logService=e,this._data=new Map,this._isDev=n.isExtensionDevelopment||!n.isBuilt}for(e,n,_){const o=_?.min??50,r=_?.max??o**2,f=_?.key??void 0,m=`${g.of(e)},${o}${f?","+f:""}`;let D=this._data.get(m);return D||(this._isDev?(this._logService.debug(`[DEBOUNCE: ${n}] is disabled in developed mode`),D=new O(o*1.5)):D=new A(this._logService,n,e,this._overallAverage()|0||o*1.5,o,r),this._data.set(m,D)),D}_overallAverage(){const e=new u.Uq;for(const n of this._data.values())e.update(n.default());return e.value}};I=p([M(0,v.rr),M(1,l.k)],I),(0,t.v)(P,I,1)},60753:(E,c,i)=>{i.d(c,{d:()=>a});class a{constructor(u,l=[],t=!1){this.ctor=u,this.staticArguments=l,this.supportsDelayedInstantiation=t}}},73429:(E,c,i)=>{i.d(c,{N:()=>l,v:()=>u});var a=i(60753);const h=[];function u(t,s,v){s instanceof a.d||(s=new a.d(s,[],!!v)),h.push([t,s])}function l(){return h}},81545:(E,c,i)=>{i.d(c,{_$:()=>a,_Y:()=>h,u1:()=>l});var a;(function(t){t.serviceIds=new Map,t.DI_TARGET="$di$target",t.DI_DEPENDENCIES="$di$dependencies";function s(v){return v[t.DI_DEPENDENCIES]||[]}t.getServiceDependencies=s})(a||(a={}));const h=l("instantiationService");function u(t,s,v){s[a.DI_TARGET]===s?s[a.DI_DEPENDENCIES].push({id:t,index:v}):(s[a.DI_DEPENDENCIES]=[{id:t,index:v}],s[a.DI_TARGET]=s)}function l(t){if(a.serviceIds.has(t))return a.serviceIds.get(t);const s=function(v,S,p){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");u(s,v,p)};return s.toString=()=>t,a.serviceIds.set(t,s),s}}}]);
